(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,a,t){"use strict";t(10),t(0),t(248),t(246),t(251)},122:function(e,a,t){"use strict";(function(e){var n=t(10),r=t(0),l=t.n(r),c=t(11),i=t(81),o=t(35);t(2),t(19),t(110);a.a=Object(c.e)("translation")((function(a){var t=a.name,c=a.value,s=a.onChange,m=(a.required,a.className),u=void 0===m?"":m,d=Object(r.useState)([]),p=Object(n.a)(d,2),h=p[0],g=p[1],f=Object(r.useState)({current:1,pageSize:50}),b=Object(n.a)(f,2),_=b[0];b[1];return Object(r.useEffect)((function(){!function(){var a="user_groups?page=".concat(_.current,"&size=").concat(_.pageSize,"&order=name&sort=asc");e.Fetch(a).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}()}),[]),l.a.createElement(r.Fragment,null,l.a.createElement(i.a,{variant:"outlined",fullWidth:!0,className:u,name:t,value:c,onChange:s,MenuProps:{onScroll:function(e){console.log(e)}}},l.a.createElement(o.a,{value:null}),h.map((function(e){return l.a.createElement(o.a,{value:e.id},e.name)}))))}))}).call(this,t(32))},125:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(106),C=t(67),y=t(88),j=t(29),S=t(2),x=t.n(S),k=t(24),w=t(40),P=t(19),N=t(15),T=t(7),q=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.bank||(l.bank=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(x.a.isEmpty(n)){var r=new FormData;return console.log(t),x.a.reduce(t,(function(e,a,t){null!=a&&r.append(t,a)}),{}),e.Fetch("accounts".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;N.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/accounts/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:x.a.reduce(i,(function(e,a,n){return e[n]=t(x.a.get(a,"0","")),e}),{})}),N.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{bank:"",bank_no:"",remark:"",is_default:!1},errors:{},loading:!1,status:"",message:""},c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("accounts/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},x.a.reduce(e.data,(function(e,a,t){return e[t]=a,e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a=this.state,t=a.content,n=a.errors,r=this.props,l=r.t,c=(r.i18n,this.props.match.params.id),i=!0;return i=void 0===c?e.Accessible("POST_ACCOUNT"):e.Accessible("PUT_ACCOUNT"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(l("lb_accounts")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(k.a,{items:[{label:l("lb_home"),href:"/"},{label:l("lb_accounts"),href:"/accounts"},{label:l(void 0===c?"lb_new_accounts":"lb_edit_accounts")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_bank"),":")},d.a.createElement(E.a,{name:"bank",variant:"outlined",fullWidth:!0,value:x.a.get(t,"bank",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"bank",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_bank_no"),":")},d.a.createElement(E.a,{name:"bank_no",variant:"outlined",fullWidth:!0,value:x.a.get(t,"bank_no",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"bank_no",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_remark"),":")},d.a.createElement(E.a,{name:"remark",variant:"outlined",fullWidth:!0,value:x.a.get(t,"remark",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"remark",""),multiline:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_is_default"),":")},d.a.createElement(O.a,{className:"form-item",component:"fieldset"},d.a.createElement(C.a,{control:d.a.createElement(y.a,{checked:t.is_default,onChange:this.handleOnChecked("is_default")})})),d.a.createElement(j.a,{className:"error"},x.a.get(n,"is_default","")))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(w.a,{allowSave:i,onCancel:function(e){e.preventDefault(),window.location.href="/accounts"}}))))))),this.state.loading&&d.a.createElement(P.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(q)}).call(this,t(32))},126:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(180),C=t(67),y=t(100),j=t(29),S=t(81),x=t(35),k=t(87),w=t(38),P=t(74),N=t(2),T=t.n(N),q=t(24),A=t(40),D=t(19),M=t(78),z=t(17),Y=t.n(z),F=t(72),W=t(15),H=t(7),B=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),console.log(l),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.zh_surname||(l.zh_surname=t("field_error_required")),e.zh_first_name||(l.zh_first_name=t("field_error_required")),e.en_surname||(l.en_surname=t("field_error_required")),e.en_first_name||(l.en_first_name=t("field_error_required")),e.email||(l.email=t("field_error_required")),e.hkid||(l.hkid=t("field_error_required")),e.dob?Y()(e.paid_at).isValid()||(l.dob=t("field_error_invalid")):l.dob=t("field_error_required"),e.home_address||(l.home_address=t("field_error_required")),e.mobile||(l.mobile=t("field_error_required")),e.gender||(l.gender=t("field_error_required")),e.comnpany||(l.comnpany=t("field_error_required")),e.job_title||(l.job_title=t("field_error_required")),e.office_address||(l.office_address=t("field_error_required")),e.employment_terms||(l.employment_terms=t("field_error_required")),e.password&&(e.password_confirmation?e.password!=e.password_confirmation&&(l.password_confirmation=t("field_password_confirmation_not_match")):l.password_confirmation=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(T.a.isEmpty(n)){var r=new FormData;return console.log(t),T.a.reduce(t,(function(e,a,t){if(null!=a)switch(t){case"dob":var n=Y.a.isMoment(a)?a:Y()(a);r.append(t,n.format("YYYY-MM-DD")),r.append("yob",n.format("YYYY"));break;case"profile_file":r.append("profile",a);break;case"profile":break;default:r.append(t,a)}}),{}),e.Fetch("members".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;W.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/members/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:T.a.reduce(i,(function(e,a,n){return e[n]=t(T.a.get(a,"0","")),e}),{})}),W.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{zh_surname:"",en_surname:"",zh_first_name:"",en_first_name:"",member_ref:"",hkid:"",yob:"",dob:null,email:"",home_address:"",department:"",mobile:"",gender:"",comnpany:"",job_title:"",office_address:"",office_phone:"",employment_terms:"",emergency_contact:"",emergency_relation:"",emergency_number:"",profile:"",profile_file:null,subscription:!0,sent_group_invite:!1,password:null,password_confirmation:null,remark:"",delete_profile:!1,is_actived:!0},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("members/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},T.a.reduce(e.data,(function(e,a,t){switch(t){case"profile":e[t]=T.a.get(a,"original","");break;case"dob":e[t]=Y()(a);break;default:e[t]=a}return e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a,t=this.state,r=t.content,l=t.errors,c=this.props,i=c.t,o=(c.i18n,this.props.match.params.id),s=!0;return s=void 0===o?e.Accessible("POST_MEMBER"):e.Accessible("PUT_MEMBER"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(i("lb_members")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(q.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_members"),href:"/members"},{label:i(void 0===o?"lb_new_members":"lb_edit_members")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(w.a,{utils:M.a},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_zh_surname"),":")},d.a.createElement(E.a,{name:"zh_surname",variant:"outlined",fullWidth:!0,error:l.zh_surname,value:T.a.get(r,"zh_surname",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"zh_surname",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_zh_first_name"),":")},d.a.createElement(E.a,{name:"zh_first_name",variant:"outlined",fullWidth:!0,error:l.zh_first_name,value:T.a.get(r,"zh_first_name",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"zh_first_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_en_surname"),":")},d.a.createElement(E.a,{name:"en_surname",variant:"outlined",fullWidth:!0,error:l.en_surname,value:T.a.get(r,"en_surname",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"en_surname",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_en_first_name"),":")},d.a.createElement(E.a,{name:"en_first_name",variant:"outlined",fullWidth:!0,error:l.en_first_name,value:T.a.get(r,"en_first_name",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"en_first_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_email"),":")},d.a.createElement(E.a,{name:"email",variant:"outlined",fullWidth:!0,error:l.email,value:T.a.get(r,"email",""),onChange:this.handleOnChange,type:"email",helperText:T.a.get(l,"email",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_mobile"),":")},d.a.createElement(E.a,{name:"mobile",variant:"outlined",fullWidth:!0,error:l.mobile,value:T.a.get(r,"mobile",""),onChange:this.handleOnChange,type:"phone",helperText:T.a.get(l,"mobile",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_home_address"),":")},d.a.createElement(E.a,{name:"home_address",variant:"outlined",fullWidth:!0,error:l.home_address,value:T.a.get(r,"home_address",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"home_address",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_gender"),":")},d.a.createElement(O.a,{"aria-label":"gender",name:"gender",value:T.a.get(r,"gender",null),onChange:this.handleOnChange,error:l.gender,row:!0},d.a.createElement(C.a,{value:"F",control:d.a.createElement(y.a,{color:"primary"}),label:i("radio_female"),labelPlacement:"end",error:l.gender}),d.a.createElement(C.a,{value:"M",control:d.a.createElement(y.a,{color:"primary"}),label:i("radio_male"),labelPlacement:"end",error:l.gender}),d.a.createElement(C.a,{value:"O",control:d.a.createElement(y.a,{color:"primary"}),label:i("radio_other"),labelPlacement:"end",error:l.gender})),d.a.createElement(j.a,{className:"error"},T.a.get(l,"gender","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_dob"),":")},d.a.createElement(P.a,{fullWidth:!0,value:T.a.get(r,"dob",null),placeholder:"",required:!0,openTo:"year",views:["year","month"],inputVariant:"outlined",onChange:this.handleOnDateChange("dob"),maxDate:new Date,format:"YYYY-MM-DD",error:l.dob,InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},T.a.get(l,"dob","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_hkid"),":")},d.a.createElement(E.a,{name:"hkid",variant:"outlined",fullWidth:!0,error:l.hkid,value:T.a.get(r,"hkid",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"hkid",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_emergency_contact"),":")},d.a.createElement(E.a,{name:"emergency_contact",variant:"outlined",fullWidth:!0,error:l.emergency_contact,value:T.a.get(r,"emergency_contact",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"emergency_contact",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_emergency_relation"),":")},d.a.createElement(E.a,{name:"emergency_relation",variant:"outlined",fullWidth:!0,error:l.emergency_relation,value:T.a.get(r,"emergency_relation",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"emergency_relation",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_emergency_number"),":")},d.a.createElement(E.a,{name:"emergency_number",variant:"outlined",fullWidth:!0,error:l.emergency_number,value:T.a.get(r,"emergency_number",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"emergency_number",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_comnpany"),":")},d.a.createElement(E.a,{name:"comnpany",variant:"outlined",fullWidth:!0,error:l.comnpany,value:T.a.get(r,"comnpany",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"comnpany",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_office_address"),":")},d.a.createElement(E.a,{name:"office_address",variant:"outlined",fullWidth:!0,error:l.office_address,value:T.a.get(r,"office_address",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"office_address",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_job_title"),":")},d.a.createElement(E.a,{name:"job_title",variant:"outlined",fullWidth:!0,value:T.a.get(r,"job_title",""),onChange:this.handleOnChange,type:"text",error:l.job_title,helperText:T.a.get(l,"job_title",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:!0,label:"".concat(i("input_employment_terms"),":")},d.a.createElement(S.a,{value:T.a.get(r,"employment_terms",""),name:"employment_terms",variant:"outlined",fullWidth:!0,error:l.employment_terms,onChange:this.handleOnChange,inputProps:{className:"form-input"}},d.a.createElement(x.a,{value:"Permanent"},"\u9577\u5de5 Permanent"),d.a.createElement(x.a,{value:"General Contract"},"\u4e00\u822c\u5408\u7d04  General Contract"),d.a.createElement(x.a,{value:"Self-Employed"},"\u81ea\u50f1 Self-Employed"),d.a.createElement(x.a,{value:"Non-Civil Service Contract"},"\u975e\u516c\u52d9\u54e1\u5408\u7d04\u5236 Non-Civil Service Contract"),d.a.createElement(x.a,{value:"Gov T-Contract"},"Gov T-Contract"),d.a.createElement(x.a,{value:"Civil Servant"},"\u516c\u52d9\u54e1 Civil Servant"),d.a.createElement(x.a,{value:"Part-time"},"\u517c\u8077 Part-time")),d.a.createElement(j.a,{className:"error"},T.a.get(l,"office_address","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_office_phone"),":")},d.a.createElement(E.a,{name:"office_phone",variant:"outlined",fullWidth:!0,error:l.office_phone,value:T.a.get(r,"office_phone",""),onChange:this.handleOnChange,type:"text",helperText:T.a.get(l,"office_phone",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_department"),":")},d.a.createElement(E.a,(a={name:"department",variant:"outlined",fullWidth:!0,error:l.office_phone,value:T.a.get(r,"department",""),onChange:this.handleOnChange,type:"text"},Object(n.a)(a,"error",l.department),Object(n.a)(a,"helperText",T.a.get(l,"department","")),Object(n.a)(a,"inputProps",{className:"form-input"}),a)))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_profile"),":")},d.a.createElement(F.a,{value:T.a.get(r,"profile",""),onChange:this.handleOnUpload,name:"profile_file",error:l.profile_file,deletedField:"delete_profile"}),d.a.createElement(j.a,{className:"error"},T.a.get(l,"profile_file","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_remark"),":")},d.a.createElement(E.a,{name:"remark",variant:"outlined",fullWidth:!0,value:T.a.get(r,"remark",""),onChange:this.handleOnChange,type:"text",error:l.remark,helperText:T.a.get(l,"remark",""),multiline:!0,inputProps:{className:"form-input",rows:"4"}}))),d.a.createElement(f.a,{item:!0,md:12,xs:12},d.a.createElement("hr",null)),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_member_ref"),":")},d.a.createElement(E.a,{name:"member_ref",variant:"outlined",fullWidth:!0,value:T.a.get(r,"member_ref",""),onChange:this.handleOnChange,type:"text",error:l.member_ref,helperText:T.a.get(l,"member_ref",""),inputProps:{className:"form-input",readOnly:!0}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_is_actived"),":")},d.a.createElement(k.a,{checked:r.is_actived,onChange:this.handleOnChecked("is_actived"),name:"is_actived",error:l.is_actived,inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},T.a.get(l,"is_actived","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_password"),":")},d.a.createElement(E.a,{name:"password",variant:"outlined",fullWidth:!0,value:T.a.get(r,"password",""),onChange:this.handleOnChange,type:"password",error:l.password,helperText:T.a.get(l,"password",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{required:r.password,label:"".concat(i("input_password_confirmation"),":")},d.a.createElement(E.a,{name:"password_confirmation",variant:"outlined",fullWidth:!0,required:r.password,value:T.a.get(r,"password_confirmation",""),onChange:this.handleOnChange,type:"password",error:l.password_confirmation,helperText:T.a.get(l,"password_confirmation",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_subscription"),":")},d.a.createElement(k.a,{checked:r.sent_confirmation,onChange:this.handleOnChecked("subscription"),name:"subscription",error:l.subscription,inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},T.a.get(l,"subscription","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(H.a,{label:"".concat(i("input_sent_group_invite"),":")},d.a.createElement(k.a,{checked:r.sent_confirmation,onChange:this.handleOnChecked("sent_group_invite"),name:"sent_group_invite",error:l.sent_group_invite,inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},T.a.get(l,"sent_group_invite","")))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(A.a,{allowSave:s,onCancel:function(e){e.preventDefault(),window.location.href="/members"}})))))))),this.state.loading&&d.a.createElement(D.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(B)}).call(this,t(32))},127:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(81),E=t(35),O=t(73),C=t(42),y=t(14),j=t(29),S=t(38),x=t(74),k=t(2),w=t.n(k),P=t(24),N=t(40),T=t(19),q=t(78),A=t(17),D=t.n(A),M=t(72),z=t(15),Y=t(7),F=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.invoice_number||(l.invoice_number=t("field_error_required")),e.item_name||(l.item_name=t("field_error_required")),e.item_type||(l.item_type=t("field_error_required")),e.provider||(l.provider=t("field_error_required")),e.paid_by||(l.paid_by=t("field_error_required")),e.paid_at||(l.paid_at=t("field_error_required")),""==e.amount&&(l.amount=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(w.a.isEmpty(n)){var r=new FormData;return console.log(t),w.a.reduce(t,(function(e,a,t){if(null!=a)switch(t){case"paid_at":var n=D.a.isMoment(a)?a:D()(a);r.append(t,n.format("YYYY-MM-DD"));break;case"receipt_file":r.append("receipt",a);break;case"receipt":break;default:r.append(t,a)}}),{}),e.Fetch("claims".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnCancel=function(a){a.preventDefault();var t=c.props.match.params.id,n=c.props,r=n.t,l=(n.i18n,Object(s.a)(c));c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("claims/cancel/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){z.b.success(r("success_cancelled"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/claims/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,i=void 0===n?null:n;null!=i&&c.setState({errors:w.a.reduce(i,(function(e,a,t){return e[t]=r(w.a.get(a,"0","")),e}),{})}),z.b.error(r(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){l.setState({loading:!1})}})}))},c.handleOnReject=function(a){a.preventDefault();var t=c.props.match.params.id,n=c.props,r=n.t,l=(n.i18n,Object(s.a)(c));c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("claims/reject/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){z.b.success(r("success_rejected"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/claims/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,i=void 0===n?null:n;null!=i&&c.setState({errors:w.a.reduce(i,(function(e,a,t){return e[t]=r(w.a.get(a,"0","")),e}),{})}),z.b.error(r(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){l.setState({loading:!1})}})}))},c.handleOnApprove=function(a){a.preventDefault();var t=c.props.match.params.id,l=c.props,i=l.t,o=(l.i18n,Object(s.a)(c)),m=c.state.content;c.setState({errors:{}});var u={};if(m.approved_at||(u.approved_at=i("field_error_required")),m.approved_by||(u.approved_by=i("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",u))})),Object.keys(u).length>0)return z.b.error(i("form_invalid"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}}),!1;c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("claims/approve/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){z.b.success(i("success_approved"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/claims/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,r=void 0===n?null:n;null!=r&&c.setState({errors:w.a.reduce(r,(function(e,a,t){return e[t]=i(w.a.get(a,"0","")),e}),{})}),z.b.error(i(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}})}))},c.handleOnHandle=function(a){a.preventDefault();var t=c.props.match.params.id,l=c.props,i=l.t,o=(l.i18n,Object(s.a)(c)),m=c.state.content;c.setState({errors:{}});var u={};if(m.handled_at||(u.handled_at=i("field_error_required")),m.handled_by||(u.handled_by=i("field_error_required")),m.transaction_date||(u.transaction_date=i("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",u))})),Object.keys(u).length>0)return z.b.error(i("form_invalid"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}}),!1;c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("claims/handle/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){z.b.success(i("success_handled"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/claims/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,r=void 0===n?null:n;null!=r&&c.setState({errors:w.a.reduce(r,(function(e,a,t){return e[t]=i(w.a.get(a,"0","")),e}),{})}),z.b.error(i(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}})}))},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;z.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/claims/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:w.a.reduce(i,(function(e,a,n){return e[n]=t(w.a.get(a,"0","")),e}),{})}),z.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{invoice_number:"",item_name:"",item_type:"",provider:"",payment_method:"",description:"",paid_by:"",paid_at:D()(),approved_by:"",approved_at:null,handled_by:"",handled_at:null,receipt:null,transaction_date:null,receipt_file:null,delete_receipt:!1,amount:0,status:"New",is_approved:!1,is_handled:!1},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnApprove=c.handleOnApprove.bind(Object(s.a)(c)),c.handleOnHandle=c.handleOnHandle.bind(Object(s.a)(c)),c.handleOnReject=c.handleOnReject.bind(Object(s.a)(c)),c.handleOnCancel=c.handleOnCancel.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("claims/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},w.a.reduce(e.data,(function(e,a,t){switch(t){case"paid_at":e[t]=D()(a);break;case"receipt":e[t]=w.a.get(a,"original","");break;case"amount":e[t]=parseFloat(a);break;default:e[t]=a}return e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a,t=this.state,r=t.content,l=t.errors,c=this.props,i=c.t,o=(c.i18n,this.props.match.params.id),s=!0;return s=void 0===o?e.Accessible("POST_CLAIM"):e.Accessible("PUT_CLAIM"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(i("lb_claims")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(P.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_claims"),href:"/claims"},{label:i(void 0===o?"lb_new_claims":"lb_edit_claims")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(S.a,{utils:q.a},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_invoice_number"),":")},d.a.createElement(y.a,{name:"invoice_number",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"invoice_number",""),value:w.a.get(r,"invoice_number",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"invoice_number",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_provider"),":")},d.a.createElement(y.a,{name:"provider",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"provider",""),value:w.a.get(r,"provider",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"provider",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_item_name"),":")},d.a.createElement(y.a,{name:"item_name",variant:"outlined",fullWidth:!0,multiline:!0,error:""!=w.a.get(l,"item_name",""),value:w.a.get(r,"item_name",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"item_name",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_item_type"),":")},d.a.createElement(y.a,{name:"item_type",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"item_type",""),value:w.a.get(r,"item_type",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"item_type",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_payment_method"),":")},d.a.createElement(v.a,(a={value:w.a.get(r,"payment_method",""),name:"payment_method",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"payment_method","")},Object(n.a)(a,"error",l.payment_method),Object(n.a)(a,"onChange",this.handleOnChange),Object(n.a)(a,"inputProps",{className:"form-input"}),a),d.a.createElement(E.a,{value:null}),e.payment_methods.map((function(e){return d.a.createElement(E.a,{value:e.value},e.label)}))),d.a.createElement(j.a,{className:"error"},w.a.get(l,"payment_method","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_amount"),":")},d.a.createElement(y.a,{name:"amount",variant:"outlined",fullWidth:!0,value:w.a.get(r,"amount",""),onChange:this.handleOnChange,type:"number",error:""!=w.a.get(l,"amount",""),helperText:w.a.get(l,"amount",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved,step:.01,min:0}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_paid_by"),":")},d.a.createElement(y.a,{name:"paid_by",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"paid_by",""),value:w.a.get(r,"paid_by",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"paid_by",""),required:!0,inputProps:{readOnly:r.is_approved,className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_paid_at"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"paid_at",null),placeholder:"",required:!0,inputVariant:"outlined",onChange:this.handleOnDateChange("paid_at"),error:""!=w.a.get(l,"paid_at",""),maxDate:new Date,format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{disabled:r.is_approved,className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},w.a.get(l,"paid_at","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_approved_by"),":")},d.a.createElement(y.a,{name:"approved_by",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"approved_by",""),value:w.a.get(r,"approved_by",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"approved_by",""),inputProps:{readOnly:r.is_approved,className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_approved_at"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"approved_at",null),placeholder:"",inputVariant:"outlined",error:""!=w.a.get(l,"approved_at",""),onChange:this.handleOnDateChange("approved_at"),maxDate:new Date,format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{disabled:r.is_approved,className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},w.a.get(l,"approved_at","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_handled_by"),":")},d.a.createElement(y.a,{name:"handled_by",variant:"outlined",fullWidth:!0,value:w.a.get(r,"handled_by",""),onChange:this.handleOnChange,error:""!=w.a.get(l,"handled_by",""),type:"text",helperText:w.a.get(l,"handled_by",""),inputProps:{readOnly:r.is_handled,className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_handled_at"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"handled_at",null),placeholder:"",inputVariant:"outlined",onChange:this.handleOnDateChange("handled_at"),maxDate:new Date,error:""!=w.a.get(l,"handled_at",""),format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{disabled:r.is_handled,className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},w.a.get(l,"handled_at","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_transaction_date"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"transaction_date",null),placeholder:"",inputVariant:"outlined",onChange:this.handleOnDateChange("transaction_date"),maxDate:new Date,error:""!=w.a.get(l,"transaction_date",""),format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{disabled:r.is_handled,className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},w.a.get(l,"transaction_date","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_receipt"),":")},d.a.createElement(M.a,{value:w.a.get(r,"receipt",""),onChange:this.handleOnUpload,error:""!=w.a.get(l,"receipt_file",""),name:"receipt_file",deletedField:"delete_receipt",disabled:r.is_approved}),d.a.createElement(j.a,{className:"error"},w.a.get(l,"receipt_file","")))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_description"),":")},d.a.createElement(y.a,{name:"description",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"description",""),value:w.a.get(r,"description",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"description",""),multiline:!0,inputProps:{className:"form-input",rows:"4"}}))))),d.a.createElement(O.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:6,xs:6},void 0!==o&&r.is_approved&&!r.is_handled&&e.Accessible("HANDLE_CLAIM")&&d.a.createElement(C.a,{onClick:this.handleOnHandle,color:"primary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Handle"),void 0!==o&&!r.is_approved&&e.Accessible("APPROVE_CLAIM")&&d.a.createElement(C.a,{onClick:this.handleOnApprove,color:"primary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Approve"),void 0!==o&&"New"==r.status&&e.Accessible("REJECT_CLAIM")&&d.a.createElement(C.a,{onClick:this.handleOnReject,color:"secondary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Reject"),void 0!==o&&"New"==r.status&&d.a.createElement(C.a,{onClick:this.handleOnCancel,color:"inherit",size:"middle",variant:"contained"},"Cancelled")),d.a.createElement(f.a,{item:!0,sm:6,xs:6,style:{textAlign:"right"}},d.a.createElement(N.a,{allowSave:s,onCancel:function(e){e.preventDefault(),window.location.href="/claims"}})))))))),this.state.loading&&d.a.createElement(T.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(F)}).call(this,t(32))},128:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(3),f=t(44),b=t(45),_=t(73),v=t(42),E=t(14),O=t(180),C=t(67),y=t(100),j=t(29),S=t(81),x=t(35),k=t(106),w=t(88),P=t(87),N=t(38),T=t(74),q=t(15),A=t(11),D=t(2),M=t.n(D),z=t(24),Y=t(40),F=t(19),W=t(78),H=t(17),B=t.n(H),R=t(72),I=t(7),U=t(164),G=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.zh_surname||(l.zh_surname=t("field_error_required")),e.zh_first_name||(l.zh_first_name=t("field_error_required")),e.en_surname||(l.en_surname=t("field_error_required")),e.en_first_name||(l.en_first_name=t("field_error_required")),e.email||(l.email=t("field_error_required")),e.hkid||(l.hkid=t("field_error_required")),e.dob?B()(e.dob).isValid()||(l.dob=t("field_error_invalid")):l.dob=t("field_error_required"),e.home_address||(l.home_address=t("field_error_required")),e.mobile||(l.mobile=t("field_error_required")),e.gender||(l.gender=t("field_error_required")),e.comnpany||(l.comnpany=t("field_error_required")),e.job_title||(l.job_title=t("field_error_required")),e.office_address||(l.office_address=t("field_error_required")),e.office_phone||e.proof||e.proof_file||(l.office_phone=t("field_phone_or_proof"),l.proof_file=t("field_phone_or_proof")),e.employment_terms||(l.employment_terms=t("field_error_required")),e.declare||(l.declare=t("field_error_required")),e.agreement||(l.agreement=t("field_error_required")),e.paid&&(e.paid_at?B()(e.paid_at).isValid()||(l.paid_at=t("field_error_invalid")):l.paid_at=t("field_error_required"),e.payment_method||(l.payment_method=t("field_error_required"))),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(M.a.isEmpty(n)){var r=new FormData;return M.a.reduce(t,(function(e,a,t){if(null!=a)switch(t){case"dob":var n=B.a.isMoment(a)?a:B()(a);r.append(t,n.format("YYYY-MM-DD")),r.append("yob",n.format("YYYY"));break;case"proof_file":r.append("proof",a);break;case"paid_at":n=B.a.isMoment(a)?a:B()(a);r.append(t,n.format("YYYY-MM-DD"));break;case"proof":case"auth":break;default:r.append(t,a)}}),{}),e.Fetch("registrations".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnCancel=function(a){a.preventDefault();var t=c.props.match.params.id,n=c.props,r=n.t,l=(n.i18n,Object(s.a)(c));c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("registrations/cancel/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){q.b.success(r("success_cancelled"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/registrations/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,i=void 0===n?null:n;null!=i&&c.setState({errors:M.a.reduce(i,(function(e,a,t){return e[t]=r(M.a.get(a,"0","")),e}),{})}),q.b.error(r(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){l.setState({loading:!1})}})}))},c.handleOnWithdraw=function(a){a.preventDefault();var t=c.props.match.params.id,n=c.props,r=n.t,l=(n.i18n,Object(s.a)(c));c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("registrations/withdraw/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){q.b.success(r("success_withdraw"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/registrations/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,i=void 0===n?null:n;null!=i&&c.setState({errors:M.a.reduce(i,(function(e,a,t){return e[t]=r(M.a.get(a,"0","")),e}),{})}),q.b.error(r(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){l.setState({loading:!1})}})}))},c.handleOnApprove=function(a){a.preventDefault();var t=c.props.match.params.id,n=c.props,r=n.t,l=(n.i18n,Object(s.a)(c));c.setState({loading:!0}),c.OnSave().then((function(a){return e.Fetch("registrations/approve/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){q.b.success(r("success_approved"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/registrations/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,i=void 0===n?null:n;null!=i&&c.setState({errors:M.a.reduce(i,(function(e,a,t){return e[t]=r(M.a.get(a,"0","")),e}),{})}),q.b.error(r(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){l.setState({loading:!1})}})}))},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;q.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/registrations/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:M.a.reduce(i,(function(e,a,n){return e[n]=t(M.a.get(a,"0","")),e}),{})}),q.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{member_ref:"",zh_surname:"",en_surname:"",zh_first_name:"",en_first_name:"",hkid:"",yob:"",dob:null,email:"",home_address:"",mobile:"",gender:"",comnpany:"",department:"",job_title:"",office_address:"",office_phone:"",employment_terms:"",proof:"",proof_file:null,delete_proof:!1,declare:!0,agreement:!0,remark:"",receipt_no:"",status:"New",payment_method:null,paid:!1,paid_at:null,sent_confirmation:!1,sent_payment_note:!1,sent_receipt:!1},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentWillMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("registrations/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},M.a.reduce(e.data,(function(e,a,t){switch(t){case"member":e.member_ref=M.a.get(a,"member_ref","");break;case"dob":e[t]=B()(a);break;case"proof":e[t]=M.a.get(a,"original","");break;case"audit":e=Object(r.a)({},e,{},a);break;default:e[t]=a}return e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a=this.state,t=a.content,n=a.errors,r=this.props,l=r.t,c=(r.i18n,this.props.match.params.id),i=!0,o=!0,s=!0,m=!0;switch(i=void 0===c?e.Accessible("POST_REGISTRATION"):e.Accessible("PUT_REGISTRATION"),t.status){case"New":o=!1;break;case"Cancelled":o=!1,m=!1,s=!1;break;case"Completed":m=!1,s=!1,i=e.Accessible("UPDATE_REGISTRATION_AFTER_APPROVED");break;default:s=!1,m=!1}return d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(l("lb_registrations")," - ").concat("Membership Management System"))),d.a.createElement(g.a,null,d.a.createElement(z.a,{items:[{label:l("lb_home"),href:"/"},{label:l("lb_registrations"),href:"/registrations"},{label:l(void 0===c?"lb_new_registrations":"lb_edit_registrations")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(N.a,{utils:W.a},d.a.createElement(f.a,null,d.a.createElement(b.a,null,d.a.createElement(g.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_zh_surname"),":")},d.a.createElement(E.a,{name:"zh_surname",variant:"outlined",fullWidth:!0,error:n.zh_surname,value:M.a.get(t,"zh_surname",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"zh_surname",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_zh_first_name"),":")},d.a.createElement(E.a,{name:"zh_first_name",variant:"outlined",fullWidth:!0,error:n.zh_first_name,value:M.a.get(t,"zh_first_name",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"zh_first_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_en_surname"),":")},d.a.createElement(E.a,{name:"en_surname",variant:"outlined",fullWidth:!0,error:n.en_surname,value:M.a.get(t,"en_surname",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"en_surname",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_en_first_name"),":")},d.a.createElement(E.a,{name:"en_first_name",variant:"outlined",fullWidth:!0,error:n.en_first_name,value:M.a.get(t,"en_first_name",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"en_first_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_email"),":")},d.a.createElement(E.a,{name:"email",variant:"outlined",fullWidth:!0,error:n.email,value:M.a.get(t,"email",""),onChange:this.handleOnChange,type:"email",helperText:M.a.get(n,"email",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_mobile"),":")},d.a.createElement(E.a,{name:"mobile",variant:"outlined",fullWidth:!0,error:n.mobile,value:M.a.get(t,"mobile",""),onChange:this.handleOnChange,type:"phone",helperText:M.a.get(n,"mobile",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_home_address"),":")},d.a.createElement(E.a,{name:"home_address",variant:"outlined",fullWidth:!0,error:n.home_address,value:M.a.get(t,"home_address",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"home_address",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_gender"),":")},d.a.createElement(O.a,{"aria-label":"gender",name:"gender",value:M.a.get(t,"gender",null),onChange:this.handleOnChange,row:!0,error:n.gender},d.a.createElement(C.a,{value:"F",control:d.a.createElement(y.a,{color:"primary"}),label:l("radio_female"),labelPlacement:"end",error:n.gender}),d.a.createElement(C.a,{value:"M",control:d.a.createElement(y.a,{color:"primary"}),label:l("radio_male"),labelPlacement:"end",error:n.gender}),d.a.createElement(C.a,{value:"O",control:d.a.createElement(y.a,{color:"primary"}),label:l("radio_other"),labelPlacement:"end",error:n.gender})),d.a.createElement(j.a,{className:"error"},M.a.get(n,"gender","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_dob"),":")},d.a.createElement(T.a,{fullWidth:!0,value:M.a.get(t,"dob",null),placeholder:"",required:!0,openTo:"year",views:["year","month"],error:n.dob,inputVariant:"outlined",onChange:this.handleOnDateChange("dob"),maxDate:new Date,format:"MM/YYYY",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"dob","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_hkid"),":")},d.a.createElement(E.a,{name:"hkid",variant:"outlined",fullWidth:!0,error:n.hkid,value:M.a.get(t,"hkid",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"hkid",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_comnpany"),":")},d.a.createElement(E.a,{name:"comnpany",variant:"outlined",fullWidth:!0,error:n.comnpany,value:M.a.get(t,"comnpany",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"comnpany",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_office_address"),":")},d.a.createElement(E.a,{name:"office_address",variant:"outlined",fullWidth:!0,error:n.office_address,value:M.a.get(t,"office_address",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"office_address",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_job_title"),":")},d.a.createElement(E.a,{name:"job_title",variant:"outlined",fullWidth:!0,error:n.job_title,value:M.a.get(t,"job_title",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"job_title",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:!0,label:"".concat(l("input_employment_terms"),":")},d.a.createElement(S.a,{value:M.a.get(t,"employment_terms",""),name:"employment_terms",variant:"outlined",fullWidth:!0,error:n.employment_terms,onChange:this.handleOnChange,inputProps:{className:"form-input"}},d.a.createElement(x.a,{value:"Permanent"},"\u9577\u5de5 Permanent"),d.a.createElement(x.a,{value:"General Contract"},"\u4e00\u822c\u5408\u7d04  General Contract"),d.a.createElement(x.a,{value:"Self-Employed"},"\u81ea\u50f1 Self-Employed"),d.a.createElement(x.a,{value:"Non-Civil Service Contract"},"\u975e\u516c\u52d9\u54e1\u5408\u7d04\u5236 Non-Civil Service Contract"),d.a.createElement(x.a,{value:"Gov T-Contract"},"Gov T-Contract"),d.a.createElement(x.a,{value:"Civil Servant"},"\u516c\u52d9\u54e1 Civil Servant"),d.a.createElement(x.a,{value:"Part-time"},"\u517c\u8077 Part-time")),d.a.createElement(j.a,{className:"error"},M.a.get(n,"employment_terms","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_office_phone"),":")},d.a.createElement(E.a,{name:"office_phone",variant:"outlined",fullWidth:!0,error:n.office_phone,value:M.a.get(t,"office_phone",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"office_phone",""),inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_department"),":")},d.a.createElement(E.a,{name:"department",variant:"outlined",fullWidth:!0,error:n.department,value:M.a.get(t,"department",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"department",""),inputProps:{className:"form-input"}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_status"),":")},d.a.createElement(E.a,{name:"status",variant:"outlined",fullWidth:!0,error:n.status,value:M.a.get(t,"status",""),type:"text",helperText:M.a.get(n,"status",""),inputProps:{className:"form-input",readOnly:!0}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_proof"),":")},d.a.createElement(R.a,{value:M.a.get(t,"proof",""),onChange:this.handleOnUpload,name:"proof_file",deletedField:"delete_proof"}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_remark"),":")},d.a.createElement(E.a,{name:"remark",variant:"outlined",fullWidth:!0,error:n.remark,value:M.a.get(t,"remark",""),onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"remark",""),multiline:!0,inputProps:{className:"form-input",rows:"4"}}))),d.a.createElement(g.a,{item:!0,md:11,xs:11,spacing:1},d.a.createElement(I.a,{large:!0},d.a.createElement(k.a,{className:"form-item",component:"fieldset"},d.a.createElement(C.a,{control:d.a.createElement(w.a,{checked:t.declare,onChange:this.handleOnChecked("declare")}),label:l("input_declare")})),d.a.createElement(j.a,{className:"error"},M.a.get(n,"declare","")))),d.a.createElement(g.a,{item:!0,md:11,xs:11,spacing:1},d.a.createElement(I.a,{large:!0},d.a.createElement(k.a,{className:"form-item",component:"fieldset"},d.a.createElement(C.a,{control:d.a.createElement(w.a,{checked:t.agreement,onChange:this.handleOnChecked("agreement")}),label:l("input_agreement")})),d.a.createElement(j.a,{className:"error"},M.a.get(n,"agreement","")))),d.a.createElement(g.a,{item:!0,md:12,xs:12},d.a.createElement("hr",null)),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_sent_confirmation"),":")},d.a.createElement(P.a,{checked:t.sent_confirmation,onChange:this.handleOnChecked("sent_confirmation"),name:"sent_confirmation",inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"sent_confirmation","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_paid"),":")},d.a.createElement(P.a,{checked:t.paid,onChange:this.handleOnChecked("paid"),name:"paid",inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"paid","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_sent_payment_note"),":")},d.a.createElement(P.a,{checked:t.sent_payment_note,onChange:this.handleOnChecked("sent_payment_note"),name:"sent_payment_note",inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"sent_payment_note","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:t.paid,label:"".concat(l("input_paid_at"),":")},d.a.createElement(T.b,{fullWidth:!0,value:M.a.get(t,"paid_at",null),placeholder:"",error:n.paid_at,required:t.paid,inputVariant:"outlined",onChange:this.handleOnDateChange("paid_at"),maxDate:new Date,format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{className:"form-input date-input"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"paid_at","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_member_ref"),":")},d.a.createElement(U.a,{name:"member_ref",filter:M.a.get(t,"email",""),disabled:"New"!=t.status,error:n.member_ref,value:M.a.get(t,"member_ref",""),onChange:this.handleOnChange,className:"form-input"}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{required:t.paid,label:"".concat(l("input_payment_method"),":")},d.a.createElement(S.a,{value:M.a.get(t,"payment_method",""),name:"payment_method",variant:"outlined",fullWidth:!0,error:n.payment_method,required:t.paid,onChange:this.handleOnChange,inputProps:{className:"form-input"}},d.a.createElement(x.a,{value:null}),e.payment_methods.map((function(e){return d.a.createElement(x.a,{value:e.value},e.label)}))),d.a.createElement(j.a,{className:"error"},M.a.get(n,"payment_method","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_sent_receipt"),":")},d.a.createElement(P.a,{checked:t.sent_receipt,onChange:this.handleOnChecked("sent_receipt"),name:"sent_receipt",inputProps:{"aria-label":"primary checkbox"}}),d.a.createElement(j.a,{className:"error"},M.a.get(n,"sent_receipt","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(I.a,{label:"".concat(l("input_receipt_no"),":"),required:t.sent_receipt},d.a.createElement(E.a,{name:"receipt_no",variant:"outlined",fullWidth:!0,error:n.receipt_no,value:M.a.get(t,"receipt_no",""),required:t.sent_receipt,onChange:this.handleOnChange,type:"text",helperText:M.a.get(n,"receipt_no",""),inputProps:{className:"form-input"}}))))),d.a.createElement(_.a,null,d.a.createElement(g.a,{container:!0},d.a.createElement(g.a,{item:!0,sm:6,xs:6},void 0!==c&&d.a.createElement(u.Fragment,null,"Completed"!=t.status&&e.Accessible("APPROVE_REGISTRATION")&&m&&d.a.createElement(v.a,{onClick:this.handleOnApprove,color:"primary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Approve"),"Cancelled"!=t.status&&e.Accessible("CANCEL_REGISTRATION")&&s&&d.a.createElement(v.a,{onClick:this.handleOnCancel,color:"secondary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Cancelled"),"Withdraw"!=t.status&&e.Accessible("WITHDRAW_REGISTRATION")&&o&&d.a.createElement(v.a,{onClick:this.handleOnWithdraw,color:"inherit",size:"middle",variant:"contained"},"Withdraw"))),d.a.createElement(g.a,{item:!0,sm:6,xs:6,style:{textAlign:"right"}},d.a.createElement(Y.a,{allowSave:i,onCancel:function(e){e.preventDefault(),window.location.href="/registrations"}})))))))),this.state.loading&&d.a.createElement(F.a,null))}}]),t}(u.Component);a.a=Object(A.e)("translation")(G)}).call(this,t(32))},129:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(3),f=t(44),b=t(45),_=t(73),v=t(42),E=t(14),O=t(81),C=t(35),y=t(29),j=t(11),S=t(38),x=t(74),k=t(2),w=t.n(k),P=t(24),N=t(40),T=t(19),q=t(78),A=t(17),D=t.n(A),M=t(166),z=t(72),Y=t(7),F=t(15),W=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.item_name||(l.item_name=t("field_error_required")),e.account_id||(l.account_id=t("field_error_required")),e.item_type||(l.item_type=t("field_error_required")),e.provider||(l.provider=t("field_error_required")),""==e.amount&&(l.amount=t("field_error_required")),e.transaction_date||(l.transaction_date=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(w.a.isEmpty(n)){var r=new FormData;return w.a.reduce(t,(function(e,a,t){if(null!=a)switch(t){case"transaction_date":var n=D.a.isMoment(a)?a:D()(a);r.append(t,n.format("YYYY-MM-DD"));break;case"receipt_file":r.append("receipt",a);break;case"receipt":break;default:r.append(t,a)}}),{}),e.Fetch("transactions".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnApprove=function(a){a.preventDefault();var t=c.props.match.params.id,l=c.props,i=l.t,o=(l.i18n,Object(s.a)(c)),m=c.state.content;c.setState({errors:{}});var u={};if(m.approved_at||(u.approved_at=i("field_error_required")),m.approved_by||(u.approved_by=i("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",u))})),Object.keys(u).length>0)return F.b.error(i("form_invalid"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}}),!1;c.setState({loading:!0,message:"",status:""}),c.OnSave().then((function(a){return e.Fetch("transactions/approve/".concat(t),{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:{}})})).then((function(e){F.b.success(i("success_approved"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/transactions/edit/".concat(t)}})})).catch((function(e){var a=e.message,t=void 0===a?"":a,n=e.error,r=void 0===n?null:n;null!=r&&c.setState({errors:w.a.reduce(r,(function(e,a,t){return e[t]=i(w.a.get(a,"0","")),e}),{})}),F.b.error(i(t||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){o.setState({loading:!1})}})}))},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;F.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/transactions/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:w.a.reduce(i,(function(e,a,n){return e[n]=t(w.a.get(a,"0","")),e}),{})}),F.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{account_id:"",account:{},invoice_number:"",item_name:"",item_type:"",payment_method:"",provider:"",approved_by:"",approved_at:null,description:"",transaction_date:null,receipt:null,receipt_file:null,delete_receipt:!1,amount:0},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnApprove=c.handleOnApprove.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("transactions/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},w.a.reduce(e.data,(function(e,a,t){switch(t){case"transaction_date":e[t]=D()(a);break;case"receipt":e[t]=w.a.get(a,"original","");break;case"amount":e[t]=parseFloat(a);break;default:e[t]=a}return e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a,t=this.state,r=t.content,l=t.errors,c=this.props,i=c.t,o=(c.i18n,this.props.match.params.id),s=!0;return s=void 0===o?e.Accessible("POST_TRANSACTION"):e.Accessible("PUT_TRANSACTION"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(i("lb_transactions")," - ").concat("Membership Management System"))),d.a.createElement(g.a,null,d.a.createElement(P.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_transactions"),href:"/transactions"},{label:i(void 0===o?"lb_new_transactions":"lb_edit_transactions")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(S.a,{utils:q.a},d.a.createElement(f.a,null,d.a.createElement(b.a,null,d.a.createElement(g.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_account"),":")},d.a.createElement(M.a,{name:"account_id",value:r.account_id,required:!0,error:""!=w.a.get(l,"account_id",""),onChange:this.handleOnChange,className:"form-input",disabled:r.is_approved}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_invoice_number"),":")},d.a.createElement(E.a,{name:"invoice_number",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"invoice_number",""),value:w.a.get(r,"invoice_number",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"invoice_number",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_provider"),":")},d.a.createElement(E.a,{name:"provider",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"provider",""),value:w.a.get(r,"provider",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"provider",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_item_name"),":")},d.a.createElement(E.a,{name:"item_name",variant:"outlined",fullWidth:!0,multiline:!0,error:""!=w.a.get(l,"item_name",""),value:w.a.get(r,"item_name",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"item_name",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_item_type"),":")},d.a.createElement(E.a,{name:"item_type",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"item_type",""),value:w.a.get(r,"item_type",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"item_type",""),required:!0,inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_payment_method"),":")},d.a.createElement(O.a,(a={value:w.a.get(r,"payment_method",""),name:"payment_method",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"payment_method","")},Object(n.a)(a,"error",l.payment_method),Object(n.a)(a,"onChange",this.handleOnChange),Object(n.a)(a,"inputProps",{className:"form-input"}),a),d.a.createElement(C.a,{value:null}),e.payment_methods.map((function(e){return d.a.createElement(C.a,{value:e.value},e.label)}))),d.a.createElement(y.a,{className:"error"},w.a.get(l,"payment_method","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_amount"),":")},d.a.createElement(E.a,{name:"amount",variant:"outlined",fullWidth:!0,value:w.a.get(r,"amount",""),onChange:this.handleOnChange,type:"number",helperText:w.a.get(l,"amount",""),required:!0,error:""!=w.a.get(l,"amount",""),inputProps:{className:"form-input",readOnly:r.is_approved,step:.01}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{required:!0,label:"".concat(i("input_transaction_date"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"transaction_date",null),placeholder:"",error:""!=w.a.get(l,"transaction_date",""),required:!0,inputVariant:"outlined",onChange:this.handleOnDateChange("transaction_date"),maxDate:new Date,format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{className:"form-input date-input",disabled:r.is_approved}}),d.a.createElement(y.a,{className:"error"},w.a.get(l,"transaction_date","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_approved_by"),":")},d.a.createElement(E.a,{name:"approved_by",variant:"outlined",error:""!=w.a.get(l,"approved_by",""),fullWidth:!0,value:w.a.get(r,"approved_by",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"approved_by",""),inputProps:{className:"form-input",readOnly:r.is_approved}}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_approved_at"),":")},d.a.createElement(x.b,{fullWidth:!0,value:w.a.get(r,"approved_at",null),error:""!=w.a.get(l,"approved_at",""),placeholder:"",inputVariant:"outlined",onChange:this.handleOnDateChange("approved_at"),maxDate:new Date,format:"YYYY-MM-DD",InputAdornmentProps:{position:"end"},className:"datePicker",inputProps:{className:"form-input date-input",disabled:r.is_approved}}),d.a.createElement(y.a,{className:"error"},w.a.get(l,"approved_at","")))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_receipt"),":")},d.a.createElement(z.a,{value:w.a.get(r,"receipt",""),onChange:this.handleOnUpload,error:""!=w.a.get(l,"receipt_file",""),name:"receipt_file",deletedField:"delete_receipt",disabled:r.is_approved}))),d.a.createElement(g.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(Y.a,{label:"".concat(i("input_description"),":")},d.a.createElement(E.a,{name:"description",variant:"outlined",fullWidth:!0,error:""!=w.a.get(l,"description",""),value:w.a.get(r,"description",""),onChange:this.handleOnChange,type:"text",helperText:w.a.get(l,"description",""),multiline:!0,inputProps:{className:"form-input",rows:"4"}}))))),d.a.createElement(_.a,null,d.a.createElement(g.a,{container:!0},d.a.createElement(g.a,{item:!0,sm:6,xs:6},void 0!==o&&!r.is_approved&&e.Accessible("APPROVE_TRANSACTION")&&d.a.createElement(v.a,{onClick:this.handleOnApprove,color:"primary",size:"middle",variant:"contained",style:{marginRight:"15px"}},"Approve")),d.a.createElement(g.a,{item:!0,sm:6,xs:6,style:{textAlign:"right"}},d.a.createElement(N.a,{allowSave:s,onCancel:function(e){e.preventDefault(),window.location.href="/transactions"}})))))))),this.state.loading&&d.a.createElement(T.a,null))}}]),t}(u.Component);a.a=Object(j.e)("translation")(W)}).call(this,t(32))},130:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(29),C=t(2),y=t.n(C),j=t(24),S=t(40),x=t(19),k=t(168),w=t(15),P=t(7),N=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.name||(l.name=t("field_error_required")),0==e.access_rights.length&&(l.access_rights=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(y.a.isEmpty(n)){var r=new FormData;return y.a.reduce(t,(function(e,a,t){null!=a&&r.append(t,a)}),{}),e.Fetch("user_groups".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;w.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/usergroups/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:y.a.reduce(i,(function(e,a,n){return e[n]=t(y.a.get(a,"0","")),e}),{})}),w.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{name:"",remark:"",access_rights:[]},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("user_groups/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},y.a.reduce(e.data,(function(e,a,t){switch(t){case"access_rights":e[t]=a.map((function(e){return parseInt(e.id)}));break;default:e[t]=a}return e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a=this.state,t=a.content,n=a.errors,r=this.props,l=r.t,c=(r.i18n,this.props.match.params.id),i=!0;return i=void 0===c?e.Accessible("POST_USER_GROUP"):e.Accessible("PUT_USER_GROUP"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(l("lb_usergroups")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(j.a,{items:[{label:l("lb_home"),href:"/"},{label:l("lb_usergroups"),href:"/usergroups"},{label:l(void 0===c?"lb_new_usergroups":"lb_edit_usergroups")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:11,xs:11,spacing:1},d.a.createElement(P.a,{required:!0,large:!0,label:"".concat(l("input_group_name"),":")},d.a.createElement(E.a,{name:"name",variant:"outlined",fullWidth:!0,error:n.name,value:y.a.get(t,"name",""),onChange:this.handleOnChange,type:"text",helperText:y.a.get(n,"name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:11,xs:11,spacing:1},d.a.createElement(P.a,{large:!0,label:"".concat(l("input_remark"),":")},d.a.createElement(E.a,{name:"remark",variant:"outlined",fullWidth:!0,error:n.remark,value:y.a.get(t,"remark",""),onChange:this.handleOnChange,type:"text",helperText:y.a.get(n,"remark",""),multiline:!0,inputProps:{className:"form-input",rows:"4"}}))),d.a.createElement(f.a,{item:!0,md:11,xs:11,spacing:1},d.a.createElement(P.a,{large:!0,label:"".concat(l("input_access_rights"),":")},d.a.createElement(k.a,{name:"access_rights",value:t.access_rights,onChange:this.handleOnChecked}),d.a.createElement(O.a,{className:"error"},y.a.get(n,"access_rights","")))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(S.a,{allowSave:i,onCancel:function(e){e.preventDefault(),window.location.href="/usergroups"}}))))))),this.state.loading&&d.a.createElement(x.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(N)}).call(this,t(32))},131:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(106),C=t(67),y=t(88),j=t(29),S=t(2),x=t.n(S),k=t(24),w=t(40),P=t(19),N=t(122),T=t(7),q=t(15),A=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t,l=(a.i18n,c.props.match.params.id);c.setState({errors:{}});var i={};return e.zh_name||(i.zh_name=t("field_error_required")),e.en_name||(i.en_name=t("field_error_required")),e.user_group_id||(i.user_group_id=t("field_error_required")),e.email||(i.email=t("field_error_required")),e.user_name||(i.user_name=t("field_error_required")),e.password?e.password_confirmation?e.password!=e.password_confirmation&&(i.password_confirmation=t("field_password_confirmation_not_match")):i.password_confirmation=t("field_error_required"):void 0===l&&(i.password=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",i))})),i},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(x.a.isEmpty(n)){var r=new FormData;return x.a.reduce(t,(function(e,a,t){if(null!=a)switch(t){case"user_group":break;default:r.append(t,a)}}),{}),e.Fetch("users".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;q.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/users/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:x.a.reduce(i,(function(e,a,n){return e[n]=t(x.a.get(a,"0","")),e}),{})}),q.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{zh_name:"",en_name:"",user_name:"",email:"",mobile:"",password:"",password_confirmation:"",user_group_id:null,is_actived:!0},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("users/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},x.a.reduce(e.data,(function(e,a,t){return e[t]=a,e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a=this.state,t=a.content,n=a.errors,r=this.props,l=r.t,c=(r.i18n,this.props.match.params.id),i=!0;return i=void 0===c?e.Accessible("POST_USER"):e.Accessible("PUT_USER"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(l("lb_users")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(k.a,{items:[{label:l("lb_home"),href:"/"},{label:l("lb_users"),href:"/users"},{label:l(void 0===c?"lb_new_users":"lb_edit_users")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_zh_name"),":")},d.a.createElement(E.a,{name:"zh_name",variant:"outlined",fullWidth:!0,error:n.zh_name,value:x.a.get(t,"zh_name",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"zh_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_en_name"),":")},d.a.createElement(E.a,{name:"en_name",variant:"outlined",fullWidth:!0,error:n.en_name,value:x.a.get(t,"en_name",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"en_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_email"),":")},d.a.createElement(E.a,{name:"email",variant:"outlined",fullWidth:!0,error:n.email,value:x.a.get(t,"email",""),onChange:this.handleOnChange,type:"email",helperText:x.a.get(n,"email",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_mobile"),":")},d.a.createElement(E.a,{name:"mobile",variant:"outlined",fullWidth:!0,error:n.mobile,value:x.a.get(t,"mobile",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"mobile",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_user_name"),":")},d.a.createElement(E.a,{name:"user_name",variant:"outlined",fullWidth:!0,error:n.user_name,value:x.a.get(t,"user_name",""),onChange:this.handleOnChange,type:"text",helperText:x.a.get(n,"user_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:!0,label:"".concat(l("input_user_group"),":")},d.a.createElement(N.a,{name:"user_group_id",value:t.user_group_id,required:!0,error:n.user_group_id,onChange:this.handleOnChange,className:"form-input"}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_password"),":")},d.a.createElement(E.a,{name:"password",variant:"outlined",fullWidth:!0,error:n.password,value:x.a.get(t,"password",""),onChange:this.handleOnChange,type:"password",helperText:x.a.get(n,"password",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{required:t.password,label:"".concat(l("input_password_confirmation"),":")},d.a.createElement(E.a,{name:"password_confirmation",variant:"outlined",fullWidth:!0,error:n.password_confirmation,required:t.password,value:x.a.get(t,"password_confirmation",""),onChange:this.handleOnChange,type:"password",helperText:x.a.get(n,"password_confirmation",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(T.a,{label:"".concat(l("input_is_actived"),":")},d.a.createElement(O.a,{className:"form-item",component:"fieldset"},d.a.createElement(C.a,{control:d.a.createElement(y.a,{checked:t.is_actived,error:n.is_actived,onChange:this.handleOnChecked("is_actived")})})),d.a.createElement(j.a,{className:"error"},x.a.get(n,"is_actived","")))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(w.a,{allowSave:i,onCancel:function(e){e.preventDefault(),window.location.href="/users"}}))))))),this.state.loading&&d.a.createElement(P.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(A)}).call(this,t(32))},132:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(2),C=t.n(O),y=t(24),j=t(40),S=t(19),x=(t(72),t(122),t(15)),k=t(7),w=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnDateChange=function(e){return function(a){c.onChange(e,a)}},c.handleOnUpload=function(e,a){c.onChange(e,a)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.zh_name||(l.zh_name=t("field_error_required")),e.en_name||(l.en_name=t("field_error_required")),e.email||(l.email=t("field_error_required")),e.password&&(e.password_confirmation?e.password!=e.password_confirmation&&(l.password_confirmation=t("field_password_confirmation_not_match")):l.password_confirmation=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){c.props.match.params;var a=c.state.content,t=c.validations(a);if(C.a.isEmpty(t)){var n=new FormData;return C.a.reduce(a,(function(e,a,t){null!=a&&n.append(t,a)}),{}),e.Fetch("users/profile",{method:"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:n})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){e.data.id;x.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/profile"}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:C.a.reduce(i,(function(e,a,n){return e[n]=t(C.a.get(a,"0","")),e}),{})}),x.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{zh_name:"",en_name:"",user_name:"",email:"",mobile:"",password:"",password_confirmation:""},errors:{},loading:!1,status:"",message:""},c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnDateChange=c.handleOnDateChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this;this.setState({loading:!0}),e.Fetch("users/profile").then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},C.a.reduce(e.data,(function(e,a,t){return e[t]=a,e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})}))}},{key:"render",value:function(){var e=this.state,a=e.content,t=e.errors,n=this.props,r=n.t;n.i18n,this.props.match.params.id;return d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(r("lb_profile")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(y.a,{items:[{label:r("lb_home"),href:"/"},{label:r("lb_profile")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(r("input_zh_name"),":")},d.a.createElement(E.a,{name:"zh_name",variant:"outlined",fullWidth:!0,error:t.zh_name,value:C.a.get(a,"zh_name",""),onChange:this.handleOnChange,type:"text",helperText:C.a.get(t,"zh_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(r("input_en_name"),":")},d.a.createElement(E.a,{name:"en_name",variant:"outlined",fullWidth:!0,error:t.en_name,value:C.a.get(a,"en_name",""),onChange:this.handleOnChange,type:"text",helperText:C.a.get(t,"en_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(r("input_email"),":")},d.a.createElement(E.a,{name:"email",variant:"outlined",fullWidth:!0,error:t.email,value:C.a.get(a,"email",""),onChange:this.handleOnChange,type:"email",helperText:C.a.get(t,"email",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(r("input_mobile"),":")},d.a.createElement(E.a,{name:"mobile",variant:"outlined",fullWidth:!0,error:t.mobile,value:C.a.get(a,"mobile",""),onChange:this.handleOnChange,type:"text",helperText:C.a.get(t,"mobile",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(r("input_user_name"),":")},d.a.createElement(E.a,{name:"user_name",variant:"outlined",fullWidth:!0,error:t.user_name,value:C.a.get(a,"user_name",""),type:"text",helperText:C.a.get(t,"user_name",""),required:!0,inputProps:{className:"form-input",readOnly:!0}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1}),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{label:"".concat(r("input_password"),":")},d.a.createElement(E.a,{name:"password",variant:"outlined",fullWidth:!0,error:t.password,value:C.a.get(a,"password",""),onChange:this.handleOnChange,type:"password",helperText:C.a.get(t,"password",""),inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:a.password,label:"".concat(r("input_password_confirmation"),":")},d.a.createElement(E.a,{name:"password_confirmation",variant:"outlined",fullWidth:!0,error:t.password_confirmation,required:a.password,value:C.a.get(a,"password_confirmation",""),onChange:this.handleOnChange,type:"password",helperText:C.a.get(t,"password_confirmation",""),inputProps:{className:"form-input"}}))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(j.a,null))))))),this.state.loading&&d.a.createElement(S.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(w)}).call(this,t(32))},148:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(10),r=t(0),l=function(){var e="object"===typeof window;function a(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var t=Object(r.useState)(a),l=Object(n.a)(t,2),c=l[0],i=l[1];return Object(r.useEffect)((function(){if(!e)return!1;function t(){i(a())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),c}},152:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"id",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"bank",label:i("input_bank")},{key:"bank_no",label:i("input_bank_no")},{key:"balance",label:i("input_balance"),render:function(e,a){return"HKD$".concat(null==a?0:a)}},{key:"remark",label:i("input_remark")},{key:"is_default",label:i("input_is_default"),render:function(e,a){return a?"Y":"N"}},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t,n=(a.i18n,"accounts?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));""!=N&&(n="".concat(n,"&keywords=").concat(N)),M(!0),e.Fetch(n).then((function(e){var a=F;a.total=e.count,S(e.data),W(a),M(!1)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_accounts")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_accounts")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_ACCOUNT")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/accounts/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/accounts/edit/".concat(a.id)},e.Accessible("PUT_ACCOUNT")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},157:function(e,a,t){"use strict";(function(e){var n=t(10),r=t(0),l=t.n(r),c=t(22),i=t.n(c),o=t(57),s=t(11),m=t(3),u=t(14),d=t(176),p=t(42),h=t(158),g=t.n(h),f=t(39),b=t.n(f),_=(t(17),t(79)),v=t(19),E=t(2),O=t.n(E),C=t(99),y=new _.a,j=Object(C.a)({title:{textAlign:"center"},formInput:{marginBottom:"49px"},loginBtn:{width:"100%"},loginArea:{backgroundImage:"url('/assets/img/bg.jpg')",backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100vh",width:"100%",overflow:"hidden",display:"flex",alignItems:"center"},loginWrapper:{background:"#FFF",width:"400px",margin:"auto",display:"block",padding:"50px",borderRadius:"5px",minHeight:"300px"}});a.a=function(a){var t=Object(r.useState)(!1),c=Object(n.a)(t,2),h=c[0],f=c[1],_=Object(r.useState)(""),E=Object(n.a)(_,2),C=E[0],S=E[1],x=Object(r.useState)(""),k=Object(n.a)(x,2),w=k[0],P=k[1],N=Object(r.useState)(""),T=Object(n.a)(N,2),q=T[0],A=T[1],D=Object(r.useState)(""),M=Object(n.a)(D,2),z=M[0],Y=M[1],F=Object(r.useState)(""),W=Object(n.a)(F,2),H=W[0],B=W[1],R=Object(r.useState)(!1),I=Object(n.a)(R,2),U=I[0],G=I[1],L=Object(r.useState)(!1),V=Object(n.a)(L,2),J=V[0],$=V[1],K=Object(s.d)(),Q=K.t,X=(K.i18n,j());return J?l.a.createElement(o.a,{to:{pathname:"/"}}):l.a.createElement(r.Fragment,null,l.a.createElement(i.a,null,l.a.createElement("title",null,"".concat(Q("lb_login")," - ").concat("Membership Management System"))),l.a.createElement(m.a,{className:X.loginArea},l.a.createElement("form",{className:X.loginWrapper,onSubmit:function(a){a.preventDefault(),A(""),Y(""),B(""),y.remove("mms_login",{path:"/",domain:window.location.hostname}),""==C&&Y(Q("msg_username_empty")),""==w&&B(Q("msg_password_empty")),""!=C&&""!=w&&(f(!0),e.Fetch("auth/login",{method:"POST",credentials:"include",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify({username:C,password:w})}).then((function(e){O.a.get(e,"data.exp_date","");y.set("mms_login",e.data,{path:"/",domain:window.location.hostname}),$(!0)})).catch((function(e){f(!1),A(Q(O.a.get(e,"message",O.a.get(e,"error","system_error"))))})))}},l.a.createElement(m.a,{item:!0,xs:12,className:"loginForm"},l.a.createElement("div",{className:X.title},l.a.createElement("h2",null,Q("lb_login"))),l.a.createElement(u.a,{label:Q("lb_username"),placeholder:"",fullWidth:!0,variant:"outlined",name:"username",onChange:function(e){S(e.target.value)},value:C,InputLabelProps:{shrink:!0},helperText:z,error:q.length>0||z.length>0,className:X.formInput}),l.a.createElement(u.a,{label:Q("lb_password"),placeholder:"",type:U?"text":"password",fullWidth:!0,variant:"outlined",name:"password",onChange:function(e){P(e.target.value)},value:w,InputLabelProps:{shrink:!0},error:q.length>0||H.length>0,helperText:H||q,className:X.formInput,InputProps:{endAdornment:l.a.createElement(d.a,{onClick:function(e){G(!U)},className:"showPassword",position:"end"},U?l.a.createElement(b.a,null):l.a.createElement(g.a,null))}}),l.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",className:X.loginBtn},"login")))),h&&l.a.createElement(v.a,null))}}).call(this,t(32))},159:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"id",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"zh_surname",label:i("input_zh_surname")},{key:"zh_first_name",label:i("input_zh_first_name")},{key:"en_surname",label:i("input_en_surname")},{key:"en_first_name",label:i("input_en_first_name")},{key:"email",label:i("input_email")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}},{key:"is_actived",label:i("input_is_actived"),render:function(e,a){return a?"Y":"N"}}],B=function(){var t=a.t,n=(a.i18n,"members?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));""!=N&&(n="".concat(n,"&keywords=").concat(N)),M(!0),e.Fetch(n).then((function(e){var a=F;a.total=e.count,M(!1),S(e.data),W(a)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_members")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_members")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_MEMBER")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/members/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/members/edit/".concat(a.id)},e.Accessible("PUT_MEMBER")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},162:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"id",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"paid_by",label:i("input_paid_by")},{key:"paid_at",label:i("input_paid_at"),render:function(e,a){return x()(a).format("YYYY-MM-DD")}},{key:"invoice_number",label:i("input_invoice_number")},{key:"item_name",label:i("input_item_name")},{key:"amount",label:i("input_amount"),render:function(e,a){return"$".concat(null==a?0:a)}},{key:"status",label:i("input_status")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t,n=(a.i18n,"claims?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));""!=N&&(n="".concat(n,"&keywords=").concat(N)),M(!0),e.Fetch(n).then((function(e){var a=F;a.total=e.count,M(!1),S(e.data),W(a)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_claims")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_claims")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_CLAIM")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/claims/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/claims/edit/".concat(a.id)},e.Accessible("PUT_CLAIM")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},163:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(99),x=t(17),k=t.n(x),w=t(15);Object(S.a)((function(e){return{tableContainer:{paddingTop:"10px"}}}));a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],x=Object(l.useState)(!1),P=Object(r.a)(x,2),N=P[0],T=P[1],q=Object(l.useState)(""),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"id",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"zh_surname",label:i("input_zh_surname")},{key:"zh_first_name",label:i("input_zh_first_name")},{key:"en_surname",label:i("input_en_surname")},{key:"en_first_name",label:i("input_en_first_name")},{key:"email",label:i("input_email")},{key:"status",label:i("input_status")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return k()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t,n=(a.i18n,"registrations?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));""!=D&&(n="".concat(n,"&keywords=").concat(D)),T(!0),e.Fetch(n).then((function(e){var a=F;a.total=e.count,S(e.data),W(a),T(!1)})).catch((function(e){w.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){T(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[D,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_registrations")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_registrations")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){M(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_REGISTRATION")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/registrations/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/registrations/edit/".concat(a.id)},e.Accessible("PUT_REGISTRATION")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),N&&c.a.createElement(j.a,null))}))}).call(this,t(32))},164:function(e,a,t){"use strict";(function(e){var n=t(10),r=t(0),l=t.n(r),c=t(11),i=t(81),o=t(35),s=t(29),m=t(14);t(2),t(19),t(110);a.a=Object(c.e)("translation")((function(a){var t=a.name,c=a.value,u=a.onChange,d=(a.required,a.className),p=void 0===d?"":d,h=a.filter,g=void 0===h?"":h,f=a.error,b=void 0===f?"":f,_=a.disabled,v=void 0!==_&&_,E=Object(r.useState)([]),O=Object(n.a)(E,2),C=O[0],y=O[1],j=Object(r.useState)({current:1,pageSize:50}),S=Object(n.a)(j,2),x=S[0];S[1];return Object(r.useEffect)((function(){!function(){var a="members?page=".concat(x.current,"&size=").concat(x.pageSize,"&order=member_ref&sort=asc");""!=g&&(a="".concat(a,"&keywords=").concat(g)),e.Fetch(a).then((function(e){y(e.data)})).catch((function(e){console.log(e)}))}(),console.log("here")}),[g]),l.a.createElement(r.Fragment,null,C.length>0?l.a.createElement(r.Fragment,null,l.a.createElement(i.a,{variant:"outlined",fullWidth:!0,className:p,name:t,value:c,disabled:v,onChange:u,MenuProps:{onScroll:function(e){console.log(e)}}},l.a.createElement(o.a,{value:null}),C.map((function(e){return l.a.createElement(o.a,{value:e.member_ref},"".concat(e.member_ref," ").concat(e.email))}))),l.a.createElement(s.a,{className:"error"},b)):l.a.createElement(m.a,{name:t,variant:"outlined",fullWidth:!0,disabled:v,error:b,value:c,onChange:u,type:"text",helperText:b,required:!0,inputProps:{className:p}}))}))}).call(this,t(32))},165:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"id",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"account.bank",label:i("input_account"),allowSort:!1},{key:"invoice_number",label:i("input_invoice_number")},{key:"item_name",label:i("input_item_name")},{key:"amount",label:i("input_amount"),render:function(e,a){return"$".concat(null==a?0:a)}},{key:"is_approved",label:i("input_is_approved"),render:function(e,a){return a?"Y":"N"}},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t,n=(a.i18n,"transactions?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));""!=N&&(n="".concat(n,"&keywords=").concat(N)),M(!0),e.Fetch(n).then((function(e){var a=F;a.total=e.count,M(!1),S(e.data),W(a)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_transactions")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_transactions")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_TRANSACTION")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/transactions/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/transactions/edit/".concat(a.id)},e.Accessible("PUT_TRANSACTION")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},166:function(e,a,t){"use strict";(function(e){var n=t(10),r=t(0),l=t.n(r),c=t(11),i=t(81),o=t(35);t(2),t(19),t(110);a.a=Object(c.e)("translation")((function(a){var t=a.name,c=a.value,s=a.onChange,m=(a.required,a.className),u=void 0===m?"":m,d=a.disabled,p=void 0!==d&&d,h=(a.error,Object(r.useState)([])),g=Object(n.a)(h,2),f=g[0],b=g[1],_=Object(r.useState)({current:1,pageSize:50}),v=Object(n.a)(_,2),E=v[0];v[1];return Object(r.useEffect)((function(){!function(){var a="accounts?page=".concat(E.current,"&size=").concat(E.pageSize,"&order=bank&sort=asc");e.Fetch(a).then((function(e){b(e.data)})).catch((function(e){console.log(e)}))}()}),[]),l.a.createElement(r.Fragment,null,l.a.createElement(i.a,{variant:"outlined",fullWidth:!0,error:!0,className:u,name:t,value:c,onChange:s,MenuProps:{onScroll:function(e){console.log(e)}},disabled:p},l.a.createElement(o.a,{value:null}),f.map((function(e){return l.a.createElement(o.a,{value:e.id},e.bank)}))))}))}).call(this,t(32))},167:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"name",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"name",label:i("input_user_group")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t,n=(a.i18n,"user_groups?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order));M(!0),""!=N&&(n="".concat(n,"&keywords=").concat(N)),e.Fetch(n).then((function(e){var a=F;a.total=e.count,M(!1),S(e.data),W(a)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_usergroups")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_usergroups")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_USER_GROUP")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/usergroups/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/usergroups/edit/".concat(a.id)},e.Accessible("PUT_USER_GROUP")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},168:function(e,a,t){"use strict";(function(e){var n=t(10),r=t(0),l=t.n(r),c=t(11),i=t(2),o=t.n(i),s=t(3),m=t(106),u=t(67),d=t(88);t(19),t(110);a.a=Object(c.e)("translation")((function(a){var t=a.value,c=a.name,i=a.onChange,p=Object(r.useState)({}),h=Object(n.a)(p,2),g=h[0],f=h[1],b=Object(r.useState)(t),_=Object(n.a)(b,2),v=_[0],E=_[1],O=function(e){e.target.checked;var a=parseInt(e.target.value),t=v.indexOf(a),n=[];-1===t?n=n.concat(v,a):0===t?n=n.concat(v.slice(1)):t===v.length-1?n=n.concat(v.slice(0,-1)):t>0&&(n=n.concat(v.slice(0,t),v.slice(t+1))),i(c,n)};return Object(r.useEffect)((function(){e.Fetch("accesses").then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){E(t)}),[t]),l.a.createElement(r.Fragment,null,o.a.reduce(g,(function(e,a,t){return e.push(l.a.createElement(r.Fragment,null,o.a.reduce(a,(function(e,a,n){return e.push(l.a.createElement(m.a,{className:"form-item",component:"fieldset",style:{width:"100%",marginBottom:"15px",borderBottom:"1px solid #efefef"}},l.a.createElement("label",null,t),l.a.createElement(s.a,{container:!0,style:{paddingLeft:"15px"}},l.a.createElement(s.a,{item:!0,sm:1,xs:1},l.a.createElement("label",{style:{lineHeight:"42px"}},n)),l.a.createElement(s.a,{item:!0,sm:11,xs:11},l.a.createElement(s.a,{container:!0},a.map((function(e){var a,t=(a=e.id,-1!==v.indexOf(a));return l.a.createElement(s.a,{item:!0,sm:3,xs:3},l.a.createElement(u.a,{control:l.a.createElement(d.a,{checked:t,onChange:O,value:e.id}),label:e.displayname}))}))))))),e}),[]))),e}),[]))}))}).call(this,t(32))},169:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(42),h=t(63),g=t(51),f=t.n(g),b=t(49),_=t.n(b),v=t(39),E=t.n(v),O=t(47),C=t(24),y=t(48),j=t(19),S=t(17),x=t.n(S),k=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,g=(t.i18n,Object(l.useState)([])),b=Object(r.a)(g,2),v=b[0],S=b[1],w=Object(l.useState)(""),P=Object(r.a)(w,2),N=P[0],T=P[1],q=Object(l.useState)(!1),A=Object(r.a)(q,2),D=A[0],M=A[1],z=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"user_name",total:0}),Y=Object(r.a)(z,2),F=Y[0],W=Y[1],H=[{key:"user_group.name",label:i("input_user_group"),allowSort:!1},{key:"zh_name",label:i("input_zh_name")},{key:"en_name",label:i("input_en_name")},{key:"user_name",label:i("input_user_name")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return x()(a).format("YYYY-MM-DD HH:mm")}}],B=function(){var t=a.t;a.i18n;console.log(a);var n="users?page=".concat(F.current,"&size=").concat(F.pageSize,"&order=").concat(F.orderBy,"&sort=").concat(F.order);M(!0),""!=N&&(n="".concat(n,"&keywords=").concat(N)),e.Fetch(n).then((function(e){var a=F;a.total=e.count,M(!1),S(e.data),W(a)})).catch((function(e){k.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){M(!1)}})}))};return Object(l.useEffect)((function(){B()}),[]),Object(l.useEffect)((function(){B()}),[N,F]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_users")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(C.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_users")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(y.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){T(e)}})),c.a.createElement(m.a,{item:!0,xs:6},e.Accessible("POST_USER")&&c.a.createElement(p.a,{startIcon:c.a.createElement(f.a,null),color:"primary",variant:"contained",className:"float-right",href:"/users/create"},i("btn_new"))),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(O.a,{dataId:"id",columns:H,data:v,paging:F,onChangePage:function(e,a){W(Object(n.a)({},F,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;W(Object(n.a)({},F,{pageSize:a}))},onChangeSort:function(e,a,t){W(Object(n.a)({},F,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(h.a,{"aria-label":"settings",href:"/users/edit/".concat(a.id)},e.Accessible("PUT_USER")?c.a.createElement(_.a,null):c.a.createElement(E.a,null)))}})))))),D&&c.a.createElement(j.a,null))}))}).call(this,t(32))},170:function(e,a,t){"use strict";(function(e){var n=t(9),r=t(10),l=t(0),c=t.n(l),i=t(22),o=t.n(i),s=t(11),m=t(3),u=t(44),d=t(45),p=t(63),h=t(49),g=t.n(h),f=t(39),b=t.n(f),_=t(47),v=t(24),E=t(48),O=t(19),C=t(17),y=t.n(C),j=t(15);a.a=Object(s.e)("translation")((function(a){var t=Object(s.d)(),i=t.t,h=(t.i18n,Object(l.useState)([])),f=Object(r.a)(h,2),C=f[0],S=f[1],x=Object(l.useState)(""),k=Object(r.a)(x,2),w=k[0],P=k[1],N=Object(l.useState)(!1),T=Object(r.a)(N,2),q=T[0],A=T[1],D=Object(l.useState)({current:1,pageSize:5,order:"asc",orderBy:"display_name",total:0}),M=Object(r.a)(D,2),z=M[0],Y=M[1],F=[{key:"display_name",label:i("input_config_name")},{key:"updated_at",label:i("lb_last_updated"),render:function(e,a){return y()(a).format("YYYY-MM-DD HH:mm")}}],W=function(){var t=a.t;a.i18n;console.log(a);var n="configs?page=".concat(z.current,"&size=").concat(z.pageSize,"&order=").concat(z.orderBy,"&sort=").concat(z.order);A(!0),""!=w&&(n="".concat(n,"&keywords=").concat(w)),e.Fetch(n).then((function(e){var a=z;a.total=e.count,A(!1),S(e.data),Y(a)})).catch((function(e){j.b.error(t("system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){A(!1)}})}))};return Object(l.useEffect)((function(){W()}),[]),Object(l.useEffect)((function(){W()}),[w,z]),c.a.createElement(l.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("title",null,"".concat(i("lb_configs")," - ").concat("Membership Management System"))),c.a.createElement(m.a,null,c.a.createElement(v.a,{items:[{label:i("lb_home"),href:"/"},{label:i("lb_configs")}]}),c.a.createElement(u.a,{className:"content-wrapper"},c.a.createElement(d.a,{className:"content-body"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:6},c.a.createElement(E.a,{placeholder:i("ph_search"),variant:"outlined",onSearch:function(e){P(e)}})),c.a.createElement(m.a,{item:!0,xs:6}),c.a.createElement(m.a,{xs:12,className:"list-table-container"},c.a.createElement(_.a,{dataId:"id",columns:F,data:C,paging:z,onChangePage:function(e,a){Y(Object(n.a)({},z,{current:a+1}))},onChangeRowsPerPage:function(e){var a=e.target.value;Y(Object(n.a)({},z,{pageSize:a}))},onChangeSort:function(e,a,t){Y(Object(n.a)({},z,{order:t,orderBy:a}))},rowAction:function(a){return c.a.createElement(l.Fragment,null,c.a.createElement(p.a,{"aria-label":"settings",href:"/configs/edit/".concat(a.id)},e.Accessible("PUT_SYS_CONFIG")?c.a.createElement(g.a,null):c.a.createElement(b.a,null)))}})))))),q&&c.a.createElement(O.a,null))}))}).call(this,t(32))},171:function(e,a,t){"use strict";(function(e){var n=t(13),r=t(9),l=t(20),c=t(18),i=t(25),o=t(27),s=t(12),m=t(28),u=t(0),d=t.n(u),p=t(22),h=t.n(p),g=t(11),f=t(3),b=t(44),_=t(45),v=t(73),E=t(14),O=t(2),C=t.n(O),y=t(24),j=t(40),S=t(19),x=t(15),k=t(7),w=function(a){function t(a){var c;return Object(l.a)(this,t),(c=Object(i.a)(this,Object(o.a)(t).call(this,a))).onChange=function(e,a){var t=c.props.onChange,l=Object(r.a)({},c.state.content,Object(n.a)({},e,a));c.setState((function(e){return Object(r.a)({},e,{content:Object(r.a)({},l)})})),"function"===typeof t&&t(l)},c.handleOnChecked=function(e){return function(a){var t=a.target.checked;c.onChange(e,t)}},c.handleOnChange=function(e){var a=e.target.name,t=e.target.value;c.onChange(a,t)},c.validations=function(e){var a=c.props,t=a.t;a.i18n;c.setState({errors:{}});var l={};return e.display_name||(l.display_name=t("field_error_required")),c.setState((function(e){return Object(r.a)({},e,Object(n.a)({},"errors",l))})),l},c.OnSave=function(){var a=c.props.match.params.id,t=c.state.content,n=c.validations(t);if(C.a.isEmpty(n)){var r=new FormData;return console.log(t),C.a.reduce(t,(function(e,a,t){null!=a&&r.append(t,a)}),{}),e.Fetch("configs".concat(void 0!==a?"/update/"+a:"/create"),{method:void 0===a?"POST":"PUT",credentials:"include",headers:new Headers({Accept:"application/json"}),body:r})}return Promise.reject({message:"form_invalid"})},c.handleOnSubmit=function(e){e.preventDefault(),c.setState({loading:!0});var a=c.props,t=a.t,n=(a.i18n,Object(s.a)(c));c.OnSave().then((function(e){var a=e.data.id;x.b.success(t("success_save"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){window.location.href="/configs/edit/".concat(a)}})})).catch((function(e){var a=e.message,r=void 0===a?"":a,l=e.error,i=void 0===l?null:l;null!=i&&c.setState({errors:C.a.reduce(i,(function(e,a,n){return e[n]=t(C.a.get(a,"0","")),e}),{})}),x.b.error(t(r||"system_error"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,onClose:function(){n.setState({loading:!1})}})}))},c.state={content:{display_name:"",content:""},errors:{},loading:!1,status:"",message:""},c.handleOnChecked=c.handleOnChecked.bind(Object(s.a)(c)),c.handleOnChange=c.handleOnChange.bind(Object(s.a)(c)),c.handleOnSubmit=c.handleOnSubmit.bind(Object(s.a)(c)),c}return Object(m.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params.id;void 0!==t&&(this.setState({loading:!0}),e.Fetch("configs/".concat(t)).then((function(e){a.setState((function(a){return Object(r.a)({},a,{content:Object(r.a)({},a.content,{},C.a.reduce(e.data,(function(e,a,t){return e[t]=a,e}),{})),loading:!1})}))})).catch((function(e){a.setState({loading:!0})})))}},{key:"render",value:function(){var a=this.state,t=a.content,n=a.errors,r=this.props,l=r.t,c=(r.i18n,this.props.match.params.id),i=!0;return i=void 0!==c&&e.Accessible("PUT_SYS_CONFIG"),d.a.createElement(u.Fragment,null,d.a.createElement(h.a,null,d.a.createElement("title",null,"".concat(l("lb_configs")," - ").concat("Membership Management System"))),d.a.createElement(f.a,null,d.a.createElement(y.a,{items:[{label:l("lb_home"),href:"/"},{label:l("lb_configs"),href:"/configs"},{label:l(void 0===c?"lb_new_configs":"lb_edit_configs")}]}),d.a.createElement("form",{onSubmit:this.handleOnSubmit},d.a.createElement(b.a,null,d.a.createElement(_.a,null,d.a.createElement(f.a,{container:!0,style:{marginTop:"20px"}},d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{required:!0,label:"".concat(l("input_config_name"),":")},d.a.createElement(E.a,{name:"display_name",variant:"outlined",fullWidth:!0,value:C.a.get(t,"display_name",""),onChange:this.handleOnChange,type:"text",helperText:C.a.get(n,"display_name",""),required:!0,inputProps:{className:"form-input"}}))),d.a.createElement(f.a,{item:!0,md:5,xs:11,spacing:1},d.a.createElement(k.a,{label:"".concat(l("input_config_content"),":")},d.a.createElement(E.a,{name:"content",variant:"outlined",fullWidth:!0,value:C.a.get(t,"content",""),onChange:this.handleOnChange,type:"text",helperText:C.a.get(n,"content",""),multiline:!0,inputProps:{className:"form-input"}}))))),d.a.createElement(v.a,null,d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,sm:12,xs:12,style:{textAlign:"right"}},d.a.createElement(j.a,{allowSave:i,onCancel:function(e){e.preventDefault(),window.location.href="/configs"}}))))))),this.state.loading&&d.a.createElement(S.a,null))}}]),t}(u.Component);a.a=Object(g.e)("translation")(w)}).call(this,t(32))},19:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(209);a.a=function(e){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"lds-default"},r.a.createElement("div",{key:"1"}),r.a.createElement("div",{key:"2"}),r.a.createElement("div",{key:"3"}),r.a.createElement("div",{key:"4"}),r.a.createElement("div",{key:"5"}),r.a.createElement("div",{key:"6"}),r.a.createElement("div",{key:"7"}),r.a.createElement("div",{key:"8"}),r.a.createElement("div",{key:"9"}),r.a.createElement("div",{key:"10"}),r.a.createElement("div",{key:"11"}),r.a.createElement("div",{key:"12"})))}},194:function(e,a,t){e.exports=t(222)},199:function(e,a,t){},200:function(e,a,t){},209:function(e,a,t){},219:function(e,a,t){"use strict";(function(e){var a=t(9),n=t(79),r=t(2),l=t.n(r),c=new n.a;e.Fetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={crossDomain:!0,method:"GET",credentials:"include",headers:new Headers({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})};return fetch("".concat("https://igneous-ethos-273113.appspot.com/api/v1/").concat(e),Object(a.a)({},n,{},t)).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},e.Accessible=function(e){var a=c.get("mms_login",{path:"/",domain:window.location.hostname});if(void 0===a)return!1;var t=a.access_rights;return"object"===typeof e?e.push("ALL_REQUEST"):e=["ALL_REQUEST",e],l.a.some(e,(function(e){return l.a.includes(t,e)}))},e.payment_methods=[{label:"Bank Transaction",value:"Bank Transaction"},{label:"Cash",value:"Cash"},{label:"Cheque",value:"Cheque"},{label:"Credit Card",value:"Credit Card"},{label:"FPS",value:"FPS"},{label:"PayMe",value:"PayMe"},{label:"Online Payment",value:"Online Payment"},{label:"Other",value:"Other"}]}).call(this,t(32))},221:function(e,a,t){},222:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(33),c=t.n(l),i=(t(199),t(200),t(11)),o=t(61),s=t(57),m=t(34),u=(new(t(79).a),function(e){return r.a.createElement(s.b,e)}),d=t(152),p=t(125),h=t(22),g=t.n(h),f=t(3),b=function(e){var a=Object(i.d)(),t=a.t;a.i18n;return Object(n.useEffect)((function(){}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("title",null,"".concat(t("lb_home")," - ").concat("Membership Management System"))),r.a.createElement(f.a,null))},_=t(157),v=t(159),E=t(126),O=t(162),C=t(127),y=t(163),j=t(128),S=t(165),x=t(129),k=t(167),w=t(130),P=t(169),N=t(131),T=t(132),q=t(170),A=t(171),D=function(e){return r.a.createElement(o.a,null,r.a.createElement(s.b,null,r.a.createElement(s.d,null,r.a.createElement(u,{exact:!0,path:"/login",component:_.a}),r.a.createElement(m.a,{exact:!0,path:"/",component:b}),r.a.createElement(m.a,{exact:!0,path:"/accounts",component:d.a}),r.a.createElement(m.a,{exact:!0,path:"/accounts/create",component:p.a}),r.a.createElement(m.a,{exact:!0,path:"/accounts/edit/:id",component:p.a}),r.a.createElement(m.a,{exact:!0,path:"/members",component:v.a}),r.a.createElement(m.a,{exact:!0,path:"/members/create",component:E.a}),r.a.createElement(m.a,{exact:!0,path:"/members/edit/:id",component:E.a}),r.a.createElement(m.a,{exact:!0,path:"/profile",component:T.a}),r.a.createElement(m.a,{exact:!0,path:"/registrations",component:y.a}),r.a.createElement(m.a,{exact:!0,path:"/registrations/create",component:j.a}),r.a.createElement(m.a,{exact:!0,path:"/registrations/edit/:id",component:j.a}),r.a.createElement(m.a,{exact:!0,path:"/claims",component:O.a}),r.a.createElement(m.a,{exact:!0,path:"/claims/create",component:C.a}),r.a.createElement(m.a,{exact:!0,path:"/claims/edit/:id",component:C.a}),r.a.createElement(m.a,{exact:!0,path:"/transactions",component:S.a}),r.a.createElement(m.a,{exact:!0,path:"/transactions/create",component:x.a}),r.a.createElement(m.a,{exact:!0,path:"/transactions/edit/:id",component:x.a}),r.a.createElement(m.a,{exact:!0,path:"/usergroups",component:k.a}),r.a.createElement(m.a,{exact:!0,path:"/usergroups/create",component:w.a}),r.a.createElement(m.a,{exact:!0,path:"/usergroups/edit/:id",component:w.a}),r.a.createElement(m.a,{exact:!0,path:"/users",component:P.a}),r.a.createElement(m.a,{exact:!0,path:"/users/create",component:N.a}),r.a.createElement(m.a,{exact:!0,path:"/users/edit/:id",component:N.a}),r.a.createElement(m.a,{exact:!0,path:"/profile",component:T.a}),r.a.createElement(m.a,{exact:!0,path:"/configs",component:q.a}),r.a.createElement(m.a,{exact:!0,path:"/configs/edit/:id",component:A.a}))))},M=(t(219),t(17)),z=t.n(M),Y=(t(220),t(221),t(15));z.a.locale("en");var F=Object(i.e)("translation")((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(Y.a,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=t(133),H=t(172),B=t(173);W.a.use(H.a).use(B.a).use(i.c).init({lng:localStorage.getItem("user-language")||"en",fallbackLng:"en",debug:!0,react:{useSuspense:!1},interpolation:{escapeValue:!1}});var R=W.a;c.a.render(r.a.createElement(i.a,{i18n:R},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(250),c=t(243),i=t(153),o=t.n(i),s=t(99),m=Object(s.a)({crumbsBody:{padding:"20px 0"}});a.a=function(e){var a=e.items,t=m();return r.a.createElement(l.a,{className:"".concat(t.crumbsBody," breadcrumbs"),separator:r.a.createElement(o.a,{fontSize:"small"}),"aria-label":"breadcrumb"},a.map((function(e,a){return r.a.createElement(c.a,{color:"inherit",key:a,href:void 0===e.href?"#":e.href},e.label)})))}},34:function(e,a,t){"use strict";(function(e){var n=t(5),r=t(10),l=t(20),c=t(18),i=t(25),o=t(27),s=t(28),m=t(0),u=t.n(m),d=t(11),p=t(57),h=t(86),g=t(225),f=t(174),b=t(3),_=t(63),v=t(252),E=t(79),O=t(19),C=t(61),y=t(223),j=t(224),S=t(226),x=t(227),k=t(228),w=t(229),P=t(230),N=t(231),T=t(232),q=t(233),A=t(234),D=t(235),M=t(236),z=t(237),Y=t(151),F=t.n(Y),W=t(2),H=t.n(W),B=t(17),R=t.n(B),I=t(148),U=new E.a,G=function(a){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isLoggedIn:!0,loading:!0},a}return Object(s.a)(t,a),Object(c.a)(t,[{key:"componentDidMount",value:function(){var a=this;this.setState({loading:!0}),e.Fetch("auth").then((function(e){a.setState({loading:!1})})).catch((function(e){U.remove("mms_login",{path:"/",domain:window.location.hostname}),U.remove("mms_login"),a.setState({isLoggedIn:!1})}))}},{key:"render",value:function(){return u.a.createElement(m.Fragment,null,this.state.loading&&u.a.createElement(O.a,null),!this.state.isLoggedIn&&u.a.createElement(p.a,{to:{pathname:"/login"}}))}}]),t}(m.Component),L=function(e){var a=Object(m.useState)(!1),t=Object(r.a)(a,2),n=t[0],l=t[1],c=Object(d.d)(),i=(c.t,c.i18n,e.name),o=e.child,s=e.id,p=e.icon;return Object(m.useEffect)((function(){var e=window.location.pathname;o.find((function(a){return a.link==e}))&&l(!0)}),[]),u.a.createElement(m.Fragment,null,u.a.createElement(h.a,{className:"menu-item link",key:s,button:!0,onClick:function(e){l(!n)}},u.a.createElement(C.b,{className:"nav-item",key:s,exact:!0,to:"#"},u.a.createElement("span",{className:"nav-icon"},p),u.a.createElement("span",{className:"nav-label"},i)),u.a.createElement("div",{className:"expand-icon"},n?u.a.createElement(y.a,null):u.a.createElement(j.a,null))),u.a.createElement(g.a,{in:n,timeout:"auto",unmountOnExit:!0},u.a.createElement(f.a,{component:"div",disablePadding:!0},o.filter((function(e){return e.accessible})).map((function(e){return u.a.createElement(h.a,{className:"menu-item link",key:e.id,button:!0},u.a.createElement(C.b,{className:"nav-item",exact:!0,to:e.link},u.a.createElement("span",{className:"nav-icon"},e.icon),u.a.createElement("span",{className:"nav-label"},e.name)))})))))};a.a=function(a){var t=a.component,l=Object(n.a)(a,["component"]),c=Object(m.useState)(!0),i=Object(r.a)(c,2),o=i[0],s=i[1],g=Object(m.useState)(!1),E=Object(r.a)(g,2),y=E[0],j=E[1],Y=Object(m.useState)(!1),W=Object(r.a)(Y,2),B=W[0],V=W[1],J=Object(I.a)(),$=U.get("mms_login",{path:"/",domain:window.location.hostname}),K=Object(d.d)(),Q=K.t,X=(K.i18n,[{id:1001,name:"".concat(Q("lb_home")),link:"/",icon:u.a.createElement(F.a,null),accessible:!0},{id:1002,name:"".concat(Q("lb_registrations")),link:"/registrations",icon:u.a.createElement(S.a,null),accessible:e.Accessible("GET_REGISTRATION")},{id:1003,name:"".concat(Q("lb_members")),link:"/members",icon:u.a.createElement(x.a,null),accessible:e.Accessible("GET_MEMBER")},{id:1004,name:"".concat(Q("lb_finance")),child:[{id:10041,name:"".concat(Q("lb_accounts")),link:"/accounts",icon:u.a.createElement(k.a,null),accessible:e.Accessible("GET_ACCOUNT")},{id:10042,name:"".concat(Q("lb_transactions")),link:"/transactions",icon:u.a.createElement(w.a,null),accessible:e.Accessible("GET_TRANSACTION")},{id:10043,name:"".concat(Q("lb_claims")),link:"/claims",icon:u.a.createElement(P.a,null),accessible:e.Accessible("GET_CLAIM")}],icon:u.a.createElement(N.a,null),accessible:e.Accessible(["GET_ACCOUNT","GET_TRANSACTION","GET_CLAIM"])},{id:1005,name:"".concat(Q("lb_system")),child:[{id:10051,name:"".concat(Q("lb_usergroups")),link:"/usergroups",icon:u.a.createElement(T.a,null),accessible:e.Accessible("GET_USER_GROUP")},{id:10052,name:"".concat(Q("lb_users")),link:"/users",icon:u.a.createElement(q.a,null),accessible:e.Accessible("GET_USER")},{id:10053,name:"".concat(Q("lb_configs")),link:"/configs",icon:u.a.createElement(A.a,null),accessible:e.Accessible("GET_SYS_CONFIG")}],icon:u.a.createElement(D.a,null),accessible:e.Accessible(["GET_USER_GROUP","GET_USER","GET_SYS_CONFIG"])}]);Object(m.useEffect)((function(){J.width<=1024&&s(!1)}),[]);return y?u.a.createElement(m.Fragment,null,u.a.createElement(p.a,{to:{pathname:"/login"}}),B&&u.a.createElement(O.a,null)):u.a.createElement(m.Fragment,null,u.a.createElement(b.a,{className:"main-container"},u.a.createElement(G,null),u.a.createElement(f.a,{className:"main-menu ".concat(o?"collapsed":""),component:"nav"},u.a.createElement(h.a,{className:"menu-item logo"},u.a.createElement(_.a,{className:"menu-collapse",onClick:function(e){s(!o)}},u.a.createElement(M.a,null))),u.a.createElement(h.a,{className:"menu-item profile"},u.a.createElement(C.b,{className:"nav-item",exact:!0,to:"/profile"},u.a.createElement(v.a,{className:"profile-pic",alt:"".concat(H.a.get($,"en_name",""))})),u.a.createElement(C.b,{className:"nav-item nav-label",exact:!0,to:"/profile"},u.a.createElement("span",null,"".concat(H.a.get($,"en_name",""))))),X.filter((function(e){return e.accessible})).map((function(e){return void 0!==e.child?u.a.createElement(L,{name:e.name,id:e.id,key:e.id,icon:e.icon,child:e.child,collapse:!0}):u.a.createElement(h.a,{className:"menu-item link",key:e.id,button:!0},u.a.createElement(C.b,{className:"nav-item",exact:!0,to:e.link},u.a.createElement("span",{className:"nav-icon"},e.icon),u.a.createElement("span",{className:"nav-label"},e.name)))})),u.a.createElement(h.a,{className:"menu-item link",key:"2000",button:!0},u.a.createElement(C.b,{className:"nav-item",exact:!0,to:"#",onClick:function(a){a.preventDefault(),V(!0),e.Fetch("auth/logout",{method:"POST"}).then((function(e){U.remove("mms_login",{path:"/",domain:window.location.hostname}),U.remove("mms_login"),setTimeout((function(){j(!0)}),300)})).catch((function(e){U.remove("mms_login",{path:"/",domain:window.location.hostname}),U.remove("mms_login"),setTimeout((function(){j(!0)}),300),V(!1)}))}},u.a.createElement("span",{className:"nav-icon"},u.a.createElement(z.a,null)),u.a.createElement("span",{className:"nav-label"},Q("lb_logout"))))),u.a.createElement(b.a,{className:"main-content"},u.a.createElement(p.b,Object.assign({},l,{render:function(e){return $&&!y?u.a.createElement(t,e):u.a.createElement(p.a,{to:{pathname:"/login"}})}}))),u.a.createElement("footer",{className:"main-footer"},u.a.createElement("p",{className:"copy-right"},"\xa9 ",R()().format("Y")," Hervest InTeach All rights reserved"))),B&&u.a.createElement(O.a,null))}}).call(this,t(32))},40:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(42),c=t(155),i=t.n(c),o=t(156),s=t.n(o),m=t(99);Object(m.a)({});a.a=function(e){var a=e.onCancel,t=e.children,c=e.allowSave,o=void 0===c||c;return Object(n.useEffect)((function(){}),[]),r.a.createElement(n.Fragment,null,t,o&&r.a.createElement(l.a,{variant:"contained",color:"primary",size:"middle",type:"submit",startIcon:r.a.createElement(i.a,null),style:{marginRight:"15px"}},"Save"),void 0!==a&&r.a.createElement(l.a,{variant:"contained",color:"default",size:"middle",startIcon:r.a.createElement(s.a,null),onClick:a},"Back"))}},47:function(e,a,t){"use strict";var n=t(10),r=t(0),l=t.n(r),c=t(4),i=t.n(c),o=t(238),s=t(175),m=t(80),u=t(253),d=t(239),p=t(240),h=t(241),g=t(249),f=t(99),b=t(88),_=t(2),v=t.n(_),E=t(11),O=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},container:{}}})),C=function(e){var a=e.columns,t=(e.dataId,e.order),n=e.orderBy,r=e.onSort,c=e.onSelectAll,i=e.numSelected,d=e.rowCount,p=e.rowAction,h=O();return l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement(m.a,{padding:"checkbox"},l.a.createElement(b.a,{indeterminate:i>0&&i<d,checked:d>0&&i===d,onChange:c,inputProps:{"aria-label":"select all desserts"}})),a.map((function(e){var a,c,i=n===e.key?t:"asc",o=e.allowSort;return void 0===o||o?l.a.createElement(m.a,{key:e.key,align:e.align?e.align:"left",sortDirection:n===e.key&&t},l.a.createElement(u.a,{active:n===e.key,direction:i,onClick:(a=e.key,c="desc"===i?"asc":"desc",function(e){r(e,a,c)})},e.label,n===e.key?l.a.createElement("span",{className:h.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null)):l.a.createElement(m.a,{key:e.key,align:e.align?e.align:"left",sortDirection:n===e.key&&t},e.label)})),void 0!==p&&l.a.createElement(m.a,{align:"right"},l.a.createElement(E.b,{i18nKey:"lb_action"},"Action"))))},y=function(e){var a=e.columns,t=e.className,c=e.dataId,i=e.data,o=e.paging,u=e.rowAction,f=e.onChangePage,_=e.onChangeRowsPerPage,E=e.onChangeSort,y=Object(r.useState)([]),j=Object(n.a)(y,2),S=j[0],x=j[1],k=O();return l.a.createElement(r.Fragment,null,l.a.createElement(d.a,{className:k.container},l.a.createElement(p.a,{className:"dataTable ".concat(void 0===t?"":t),"aria-labelledby":"tableTitle",stickyHeader:!0},l.a.createElement(C,Object.assign({},e,{order:o.order,orderBy:o.orderBy,numSelected:S.length,rowCount:i.length,onSelectAll:function(e){},onSort:E})),l.a.createElement(h.a,null,i.map((function(e,t){var n,r=(n=v.a.get(e,c,""),-1!==S.indexOf(n)),i="enhanced-table-checkbox-".concat(t);return l.a.createElement(s.a,{hover:!0,onClick:function(a){return function(e,a){var t=S.indexOf(a),n=[];-1===t?n=n.concat(S,a):0===t?n=n.concat(S.slice(1)):t===S.length-1?n=n.concat(S.slice(0,-1)):t>0&&(n=n.concat(S.slice(0,t),S.slice(t+1))),x(n)}(0,v.a.get(e,c,""))},role:"checkbox",tabIndex:-1,"aria-checked":r,key:e.name,selected:r},l.a.createElement(m.a,{padding:"checkbox"},l.a.createElement(b.a,{checked:r,inputProps:{"aria-labelledby":i}})),a.map((function(a){return void 0===a.render||"function"!=typeof a.render?l.a.createElement(m.a,null,v.a.get(e,a.key,"")):l.a.createElement(m.a,null,a.render(e,v.a.get(e,a.key,null)))})),void 0!==u&&l.a.createElement(m.a,{align:"right"},u(e)))}))))),l.a.createElement(g.a,{rowsPerPageOptions:[5,10,25],component:"div",count:o.total,rowsPerPage:o.pageSize,page:o.current-1,onChangePage:f,onChangeRowsPerPage:_}))};y.prototype={rowAction:i.a.func,columns:i.a.array.isRequired,paging:i.a.object.isRequired,dataId:i.a.string.isRequired,onChangePage:i.a.func.isRequired,onChangeRowsPerPage:i.a.func.isRequired,onChangeSort:i.a.func.isRequired,data:i.a.array},a.a=y},48:function(e,a,t){"use strict";var n=t(10),r=t(0),l=t.n(r),c=t(14),i=t(154),o=t.n(i),s=t(176);a.a=function(e){var a=Object(r.useState)(""),t=Object(n.a)(a,2),i=t[0],m=t[1],u=e.onSearch,d=e.placeholder,p=void 0===d?"Search...":d;return l.a.createElement(c.a,{type:"text",onChange:function(e){m(e.target.value)},value:i,variant:"outlined",className:"search-box",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),u(i))},InputProps:{className:"form-input",startAdornment:l.a.createElement(s.a,{onClick:function(e){u(i)},position:"start"},l.a.createElement(o.a,null))},placeholder:p})}},7:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(3),c=t(244);a.a=function(e){var a=e.children,t=e.label,n=void 0===t?"":t,i=e.required,o=void 0!==i&&i,s=e.large,m=void 0!==s&&s,u=e.fullWidth,d=void 0!==u&&u;return r.a.createElement(l.a,{container:!0,className:"form-item-container"},!d&&r.a.createElement(l.a,{item:!0,xs:m?3:6},r.a.createElement(c.a,{className:"form-label ".concat(o?"required":"")},n)),r.a.createElement(l.a,{item:!0,xs:m?9:6},a))}},72:function(e,a,t){"use strict";var n=t(10),r=t(0),l=t.n(r),c=t(63),i=t(161),o=t.n(i),s=t(160),m=t.n(s),u=t(99),d=t(119),p=t(178),h=t(245),g=t(177),f=t(17),b=t.n(f),_=Object(u.a)({hidden:{display:"none"},preview:{height:0,paddingTop:"56.25%"},uploadContainer:{height:"150px",width:"200px",position:"relative"},uploadButton:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)"},uploadPreviewContainer:{height:"150px",width:"200px",zIndex:1,overflow:"hidden",backgroundSize:"cover",backgroundRepeat:"no-repeat"},modalPreview:{maxHeight:"80vh",maxWidth:"80vw"},uploadRemove:{position:"absolute",top:"0",right:"0",transform:"translate(50%, -50%)"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}});a.a=function(e){var a=Object(r.useState)(null),t=Object(n.a)(a,2),i=(t[0],t[1]),s=e.name,u=e.onChange,f=e.icon,v=e.deletedField,E=e.value,O=e.disabled,C=void 0!==O&&O,y=Object(r.useState)(null),j=Object(n.a)(y,2),S=j[0],x=j[1],k=Object(r.useState)(b()().format("YYYYMMDDHHmmss")),w=Object(n.a)(k,2),P=w[0],N=w[1],T=Object(r.useState)(!1),q=Object(n.a)(T,2),A=q[0],D=q[1],M=_();Object(r.useEffect)((function(){x(E)}),[E]);var z=function(){D(!1)};return l.a.createElement(r.Fragment,null,l.a.createElement("input",{accept:"image/*",id:"icon-button-photo",onChange:function(e){var a=e.target.files[0],t=new FileReader;t.readAsDataURL(a);t.onloadend=function(e){x(t.result)}.bind(void 0),console.log("on add"),void 0!==u&&"function"==typeof u&&(u(s,a),void 0!==v&&setTimeout((function(){u(v,!1)}),100))},type:"file",key:P,className:M.hidden}),l.a.createElement(d.a,{className:M.uploadContainer},S?l.a.createElement(c.a,{color:"secondary",className:M.uploadRemove,disabled:C,component:"span",onClick:function(e){i(null),N(b()().format("YYYYMMDDHHmmss")),x(null),console.log("on remove"),void 0!==u&&"function"==typeof u&&(u(s,null),void 0!==v&&setTimeout((function(){u(v,!0)}),100))}},l.a.createElement(m.a,null)):l.a.createElement("label",{htmlFor:"icon-button-photo",className:M.uploadButton},l.a.createElement(c.a,{color:"primary",component:"span",disabled:C},void 0===f?l.a.createElement(o.a,null):l.a.createElement(r.Component,{component:f}))),S&&l.a.createElement(d.a,{className:M.uploadPreviewContainer,style:S?{backgroundImage:"url(".concat(S,")")}:{},onClick:function(e){D(!0)}}),l.a.createElement(p.a,{open:A,onClose:z,onBackdropClick:z,closeAfterTransition:!0,className:M.modal,BackdropComponent:h.a,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description"},l.a.createElement(g.a,{in:A},l.a.createElement("img",{src:S,className:M.modalPreview})))))}}},[[194,1,2]]]);